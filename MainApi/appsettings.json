{
  "ASPNETCORE_ENVIRONMENT": "Production",
  "ConnectionStrings": {
    "PoolerConnection": "User Id=postgres.cjcahidscpiatcgctfnx;Password=Breaking355662Bad!;Server=aws-1-ap-northeast-1.pooler.supabase.com;Port=5432;Database=postgres; SSL Mode=Require;Trust Server Certificate=true",
    "DirectConnection": "Host=db.cjcahidscpiatcgctfnx.supabase.co;Database=postgres;Username=postgres;Password=Breaking355662Bad!;SSL Mode=Require;Trust Server Certificate=true",
    "Redis": "redis-13476.c282.east-us-mz.azure.redns.redis-cloud.com:13476,user=default,password=RJfZuRbBVbx0DodkWdHvKRNHJ6nbdypK,ssl=true,abortConnect=false"
  },
  "Elasticsearch": {
    "Url": "http://ledka-elastic:9200",
    "Username": "elastic",
    "Password": "EteLlYMkvFETnI9W6V7xrWEg",
    "NumberOfShards": 1,
    "NumberOfReplicas": 0,
    "MaxEventQueueSize": 10000,
    "EnableCloudId": false,
    "CloudId": "",
    "CertificateFingerprint": "",
    "Timeout": 60,
    "MaxRetries": 3,
    "RequestTimeout": 30,
    "PingTimeout": 5,
    "DeadTimeout": 60,
    "MaxDeadTimeout": 300,
    "EnableDebugMode": false,
    "EnableMetrics": true,
    "CircuitBreaker": {
      "FailureThreshold": 5,
      "SuccessThreshold": 2,
      "Timeout": 30,
      "SamplingDuration": 60
    },
    "BulkOperations": {
      "BatchSize": 100,
      "MaxConcurrentBatches": 5,
      "RetryLimit": 3,
      "RetryDelay": 2000
    },
    "Sync": {
      "Enabled": true,
      "IntervalMinutes": 5,
      "BatchSize": 100
    },
    "DeadLetterQueue": {
      "ProcessIntervalSeconds": 60,
      "MaxRetries": 5,
      "RetryBackoffMultiplier": 2
    }
  },
  "Search": {
    "MinScore": 0.3,
    "MaxResults": 1000,
    "DefaultPageSize": 20,
    "FieldBoosts": {
      "name": 5,
      "categoryName": 3,
      "brandName": 2,
      "description": 1,
      "brand": 2.5,
      "tags": 2
    },
    "PersianAnalysis": {
      "EnableStemming": true,
      "EnableStopWords": true,
      "EnableNormalization": true,
      "MinGram": 2,
      "MaxGram": 15
    }
  },
  "Swagger": {
    "Enabled": true
  },
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.AspNetCore": "Warning",
      "Microsoft.EntityFrameworkCore": "Warning",
      "Microsoft.AspNetCore.DataProtection": "Warning",
      "StackExchange.Redis": "Warning",
      "Infrastructure.Search": "Information"
    }
  },
  "Jwt": {
    "Key": "Breaking355662Bad!SecureKeyForHS256Algo1234",
    "Issuer": "Ledka",
    "Audience": "MrKaveh",
    "DurationInMinutes": 30
  },
  "FrontendUrls": {
    "BaseUrl": "https://ledka-co.ir",
    "LocalHostUrl": "http://localhost:4200",
    "PaymentSuccessPath": "/payment/success",
    "PaymentFailurePath": "/payment/failure"
  },
  "LiaraStorage": {
    "AccessKey": "9t6iiv1f989ntpa9",
    "SecretKey": "cb7a1da8-6c4e-452c-8d07-a2d1fc688dc8",
    "BucketName": "mechanic-umz",
    "BaseUrl": "https://storage.c2.liara.space/mechanic-umz",
    "ApiEndpoint": "https://storage.c2.liara.space"
  },
  "AllowedHosts": "*",
  "PaymentGateway": {
    "DefaultGateway": "ZarinPal",
    "EnableMockGateway": false
  },
  "Zarinpal": {
    "MerchantId": "34d6bdbe-d077-4f0c-9040-cdedc27c36cf",
    "IsSandbox": true,
    "AllowedIps": []
  },
  "SecurityHeaders": {
    "XFrameOptions": "SAMEORIGIN",
    "ReferrerPolicy": "strict-origin-when-cross-origin",
    "PermissionsPolicy": "camera=(), microphone=(), geolocation=(), payment=*",
    "HstsMaxAge": 31536000,
    "HstsPreload": false,
    "DisableCsp": false,
    "CspDefaultSrc": "'self'",
    "CspScriptSrc": "'self' 'unsafe-inline' 'unsafe-eval' https://localhost:44318 https://ledka-co.ir https://www.ledka-co.ir https://*.zarinpal.com https://sandbox.zarinpal.com https://payment.zarinpal.com https://api.zarinpal.com https://*.cloudflare.com https://challenges.cloudflare.com",
    "CspStyleSrc": "'self' 'unsafe-inline' https://localhost:44318 https://fonts.googleapis.com",
    "CspImgSrc": "'self' data: https: blob: https://localhost:44318 https://storage.c2.liara.space",
    "CspFontSrc": "'self' https://localhost:44318 https://fonts.gstatic.com data:",
    "CspConnectSrc": "'self' https://localhost:44318 http://localhost:4200 https://mechanic-umz.liara.run https://ledka-co.ir https://www.ledka-co.ir https://fonts.googleapis.com https://storage.c2.liara.space https://sandbox.zarinpal.com https://payment.zarinpal.com https://api.zarinpal.com https://www.zarinpal.com https://*.cloudflare.com wss://*.cloudflare.com",
    "CspFrameAncestors": "'self' https://localhost:44318 https://sandbox.zarinpal.com https://payment.zarinpal.com https://www.zarinpal.com https://*.cloudflare.com",
    "EnableCoep": false,
    "EnableCoop": false,
    "EnableCorp": false
  },
  "Security": {
    "MaxRequestSizeInBytes": 10485760,
    "DataProtectionPath": "./keys",
    "AllowedOrigins": [
      "https://localhost:44318",
      "https://localhost:4200",
      "http://localhost:4200",
      "https://ledka-co.ir",
      "http://ledka-co.ir",
      "https://www.ledka-co.ir",
      "https://mechanic-umz.liara.run",
      "https://sandbox.zarinpal.com",
      "https://payment.zarinpal.com",
      "https://api.zarinpal.com",
      "https://www.zarinpal.com"
    ],
    "AdminIpWhitelist": [
      "127.0.0.1",
      "::1"
    ]
  },
  "Audit": {
    "ArchivePath": "/app/audit_archives",
    "DefaultRetentionDays": 90,
    "SecurityRetentionDays": 730,
    "FinancialRetentionYears": 7
  },
  "Serilog": {
    "Using": [
      "Serilog.Sinks.Console",
      "Serilog.Sinks.File"
    ],
    "MinimumLevel": {
      "Default": "Information",
      "Override": {
        "Microsoft": "Warning",
        "System": "Warning",
        "Microsoft.AspNetCore": "Warning"
      }
    },
    "WriteTo": [
      {
        "Name": "Console",
        "Args": {
          "outputTemplate": "[{Timestamp:HH:mm:ss} {Level:u3}] {Message:lj} {Properties:j}{NewLine}{Exception}"
        }
      },
      {
        "Name": "File",
        "Args": {
          "path": "/var/log/mechanic/log-.txt",
          "rollingInterval": "Day",
          "retainedFileCountLimit": 30,
          "outputTemplate": "{Timestamp:yyyy-MM-dd HH:mm:ss.fff zzz} [{Level:u3}] {Message:lj} {Properties:j}{NewLine}{Exception}"
        }
      },
      {
        "Name": "File",
        "Args": {
          "path": "/var/log/mechanic/errors/error-.txt",
          "rollingInterval": "Day",
          "retainedFileCountLimit": 60,
          "restrictedToMinimumLevel": "Error",
          "outputTemplate": "{Timestamp:yyyy-MM-dd HH:mm:ss.fff zzz} [{Level:u3}] {Message:lj} {Properties:j}{NewLine}{Exception}"
        }
      }
    ],
    "Enrich": [
      "FromLogContext",
      "WithMachineName",
      "WithThreadId"
    ]
  },
  "Cache": {
    "DefaultTtlMinutes": 5,
    "LockTtlSeconds": 30
  },
  "HealthChecksUI": {
    "HealthChecks": [
      {
        "Name": "API Health",
        "Uri": "https://mechanic-umz.liara.run/health"
      },
      {
        "Name": "Elasticsearch",
        "Uri": "https://mechanic-umz.liara.run/health/ready"
      }
    ],
    "EvaluationTimeInSeconds": 30,
    "MinimumSecondsBetweenFailureNotifications": 60
  }
}