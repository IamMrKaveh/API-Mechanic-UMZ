{
  "ASPNETCORE_ENVIRONMENT": "Production",
  "ConnectionStrings": {
    "PoolerConnection": "User Id=postgres.suldeexbzqpfiflqzkej;Password=Breaking355662Bad!;Server=aws-1-eu-north-1.pooler.supabase.com;Port=5432;Database=postgres;SSL Mode=Require;Trust Server Certificate=true",
    "Redis": "redis-13476.c282.east-us-mz.azure.redns.redis-cloud.com:13476,user=default,password=RJfZuRbBVbx0DodkWdHvKRNHJ6nbdypK,ssl=true,abortConnect=false"
  },
  "Elasticsearch": {
    "Url": "http://localhost:9200",
    "Username": "elasticsearch",
    "Password": "Mea_MqBQQ6qjlYiu0kLN6w",
    //"Url": "https://ledka-elastic:9200",
    //"Username": "elastic",
    //"Password": "aKbxGOnmbVwyWTbiqIYSp7He",
    "ApiKey": "",
    "Index": "products_v2",
    "ValidateCertificate": false,
    "TimeoutSeconds": 60,
    "MaxRetries": 5,
    "DebugMode": false,
    "DLQWarningThreshold": 100,
    "DLQCriticalThreshold": 500,
    "NumberOfShards": 3,
    "NumberOfReplicas": 1,
    "MaxResultWindow": 50000,
    "RefreshInterval": "30s",
    "AutoCreateIndices": true,
    "EnableBackgroundSync": true,
    "SyncIntervalMinutes": 30,
    "BulkBatchSize": 1000,
    "BulkTimeoutSeconds": 120,
    "MaxEventQueueSize": 10000
  },
  "Search": {
    "DefaultPageSize": 20,
    "MaxPageSize": 100,
    "MinScore": 0.5,
    "EnableFuzzySearch": true,
    "EnableHighlighting": true,
    "EnableSuggestions": true,
    "SuggestionCount": 5,
    "FieldBoosts": {
      "name": 5.0,
      "categoryName": 3.0,
      "categoryGroupName": 2.0,
      "description": 1.0
    }
  },
  "Swagger": {
    "Enabled": true
  },
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.AspNetCore": "Warning",
      "Microsoft.EntityFrameworkCore": "Warning",
      "Microsoft.AspNetCore.DataProtection": "Warning",
      "StackExchange.Redis": "Warning",
      "Infrastructure.Search": "Information"
    }
  },
  "Jwt": {
    "Key": "Breaking355662Bad!SecureKeyForHS256Algo1234",
    "Issuer": "Ledka",
    "Audience": "MrKaveh",
    "DurationInMinutes": 30
  },
  "FrontendUrls": {
    "BaseUrl": "https://ledka-co.ir",
    "LocalHostUrl": "http://localhost:4200",
    "PaymentSuccessPath": "/payment/success",
    "PaymentFailurePath": "/payment/failure"
  },
  "Kavenegar": {
    "ApiKey": "6C43574D53556774665763527167557A75376D39687A7935666A78353777783238704A302F7053303367383D",
    "SenderNumber": "2000660110"
  },
  "LiaraStorage": {
    "AccessKey": "9t6iiv1f989ntpa9",
    "SecretKey": "cb7a1da8-6c4e-452c-8d07-a2d1fc688dc8",
    "BucketName": "mechanic-umz",
    "BaseUrl": "https://storage.c2.liara.space/mechanic-umz",
    "ApiEndpoint": "https://storage.c2.liara.space"
  },
  "AllowedHosts": "*",
  "Zarinpal": {
    "MerchantId": "34d6bdbe-d077-4f0c-9040-cdedc27c36cf",
    "IsSandbox": true
  },
  "SecurityHeaders": {
    "XFrameOptions": "SAMEORIGIN",
    "ReferrerPolicy": "strict-origin-when-cross-origin",
    "PermissionsPolicy": "camera=(), microphone=(), geolocation=(), payment=*",
    "HstsMaxAge": 31536000,
    "HstsPreload": false,
    "DisableCsp": false,
    "CspDefaultSrc": "'self'",
    "CspScriptSrc": "'self' 'unsafe-inline' 'unsafe-eval' https://ledka-co.ir https://www.ledka-co.ir https://*.zarinpal.com https://sandbox.zarinpal.com https://payment.zarinpal.com https://api.zarinpal.com https://*.cloudflare.com https://challenges.cloudflare.com",
    "CspStyleSrc": "'self' 'unsafe-inline' https://fonts.googleapis.com",
    "CspImgSrc": "'self' data: https: blob: https://storage.c2.liara.space",
    "CspFontSrc": "'self' https://fonts.gstatic.com data:",
    "CspConnectSrc": "'self' http://localhost:4200 https://mechanic-umz.liara.run https://ledka-co.ir https://www.ledka-co.ir https://fonts.googleapis.com https://storage.c2.liara.space https://sandbox.zarinpal.com https://payment.zarinpal.com https://api.zarinpal.com https://www.zarinpal.com https://*.cloudflare.com wss://*.cloudflare.com",
    "CspFrameAncestors": "'self' https://sandbox.zarinpal.com https://payment.zarinpal.com https://www.zarinpal.com https://*.cloudflare.com",
    "EnableCoep": false,
    "EnableCoop": false,
    "EnableCorp": false
  },
  "Security": {
    "MaxRequestSizeInBytes": 10485760,
    "DataProtectionPath": "./keys",
    "AllowedOrigins": [
      "https://localhost:4200",
      "http://localhost:4200",
      "https://ledka-co.ir",
      "http://ledka-co.ir",
      "https://www.ledka-co.ir",
      "https://mechanic-umz.liara.run",
      "https://sandbox.zarinpal.com",
      "https://payment.zarinpal.com",
      "https://api.zarinpal.com",
      "https://www.zarinpal.com"
    ],
    "AdminIpWhitelist": [
      "127.0.0.1",
      "::1"
    ]
  },
  "IpRateLimiting": {
    "EnableEndpointRateLimiting": true,
    "StackBlockedRequests": false,
    "RealIpHeader": "X-Real-IP",
    "ClientIdHeader": "X-ClientId",
    "HttpStatusCode": 429,
    "GeneralRules": [
      {
        "Endpoint": "*",
        "Period": "1m",
        "Limit": 200
      },
      {
        "Endpoint": "*",
        "Period": "1h",
        "Limit": 2000
      }
    ]
  },
  "Serilog": {
    "Using": [
      "Serilog.Sinks.Console",
      "Serilog.Sinks.File"
    ],
    "MinimumLevel": {
      "Default": "Information",
      "Override": {
        "Microsoft": "Warning",
        "System": "Warning",
        "Microsoft.AspNetCore": "Warning"
      }
    },
    "WriteTo": [
      {
        "Name": "Console",
        "Args": {
          "outputTemplate": "[{Timestamp:HH:mm:ss} {Level:u3}] {Message:lj} {Properties:j}{NewLine}{Exception}"
        }
      },
      {
        "Name": "File",
        "Args": {
          "path": "/var/log/mechanic/log-.txt",
          "rollingInterval": "Day",
          "retainedFileCountLimit": 30,
          "outputTemplate": "{Timestamp:yyyy-MM-dd HH:mm:ss.fff zzz} [{Level:u3}] {Message:lj} {Properties:j}{NewLine}{Exception}"
        }
      },
      {
        "Name": "File",
        "Args": {
          "path": "/var/log/mechanic/errors/error-.txt",
          "rollingInterval": "Day",
          "retainedFileCountLimit": 60,
          "restrictedToMinimumLevel": "Error",
          "outputTemplate": "{Timestamp:yyyy-MM-dd HH:mm:ss.fff zzz} [{Level:u3}] {Message:lj} {Properties:j}{NewLine}{Exception}"
        }
      }
    ],
    "Enrich": [
      "FromLogContext",
      "WithMachineName",
      "WithThreadId"
    ]
  },
  "HealthChecksUI": {
    "HealthChecks": [
      {
        "Name": "API Health",
        "Uri": "https://mechanic-umz.liara.run/health"
      },
      {
        "Name": "Elasticsearch",
        "Uri": "https://mechanic-umz.liara.run/health/ready"
      }
    ],
    "EvaluationTimeInSeconds": 30,
    "MinimumSecondsBetweenFailureNotifications": 60
  }
}