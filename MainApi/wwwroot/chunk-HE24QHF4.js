import{a as w}from"./chunk-FVWIFECI.js";import{A as k,G as A,d as D,h as _,i as C}from"./chunk-QOTKPPKC.js";import{Ab as u,Ca as n,Cb as p,Kb as x,Na as g,Nb as f,Ob as y,Pb as I,Sa as b,Xa as l,gb as c,hb as a,ib as d,jb as h,tb as m,za as v}from"./chunk-6VZDFBBI.js";var E=e=>["/products",e];function S(e,i){if(e&1&&(a(0,"div",15),u(1),f(2,"number"),d()),e&2){let t=m(2);n(),p(" ",I(2,1,t.discountPercentage,"1.0-0"),"% ")}}function U(e,i){e&1&&(a(0,"div",16),u(1," \u0646\u0627\u0645\u0648\u062C\u0648\u062F "),d())}function M(e,i){if(e&1&&(a(0,"div",1)(1,"a",2)(2,"span",3),u(3,"\u0645\u0634\u0627\u0647\u062F\u0647 \u062C\u0632\u0626\u06CC\u0627\u062A"),d()(),a(4,"div",4),h(5,"img",5),l(6,S,3,4,"div",6)(7,U,2,0,"div",7),d(),a(8,"div",8)(9,"h3",9),u(10),d(),a(11,"div",10)(12,"p",11),u(13),f(14,"number"),d()()(),a(15,"div",12)(16,"button",13)(17,"span",14),u(18,"add_shopping_cart"),d(),a(19,"span"),u(20,"\u0645\u0634\u0627\u0647\u062F\u0647 \u062C\u0632\u0626\u06CC\u0627\u062A"),d()()()()),e&2){let t=m();n(),c("routerLink",x(12,E,t.product.id))("title",t.product.name),n(4),c("src",t.productIconUrl,v)("alt",t.product.name),n(),c("ngIf",t.hasDiscount),n(),c("ngIf",!t.isInStock()),n(3),p(" ",t.product.name," "),n(3),p(" ",y(14,10,t.product.minPrice)," \u062A\u0648\u0645\u0627\u0646 "),n(3),c("routerLink",x(14,E,t.product.id))("disabled",!t.isInStock())}}var B=(()=>{let i=class i{constructor(o){this.mediaService=o}isInStock(){return this.product?this.product.variants.some(r=>r.isUnlimited)?!0:this.product.totalStock>0:!1}get productIconUrl(){let r=this.product?.images?.find(s=>s.isPrimary)?.url||this.product?.images?.[0]?.url;return r?this.mediaService.getMediaUrl(r):"https://via.placeholder.com/300"}get hasDiscount(){return!this.product||!this.product.variants?!1:this.product.variants.some(o=>o.originalPrice>o.sellingPrice)}get discountPercentage(){return this.hasDiscount?Math.max(...this.product.variants.map(r=>r.discountPercentage)):0}};i.\u0275fac=function(r){return new(r||i)(g(w))},i.\u0275cmp=b({type:i,selectors:[["app-product-card"]],inputs:{product:"product"},decls:1,vars:1,consts:[["class","card group relative flex flex-col overflow-hidden transition-all duration-300 hover:shadow-xl hover:-translate-y-1",4,"ngIf"],[1,"card","group","relative","flex","flex-col","overflow-hidden","transition-all","duration-300","hover:shadow-xl","hover:-translate-y-1"],[1,"absolute","inset-0","z-10",3,"routerLink","title"],[1,"sr-only"],[1,"relative","overflow-hidden","aspect-square","bg-muted/50"],[1,"h-full","w-full","object-contain","transition-transform","duration-500","group-hover:scale-110",3,"src","alt"],["class","absolute top-3 left-3 bg-destructive text-destructive-foreground text-xs font-bold px-2 py-1 rounded-full",4,"ngIf"],["class","absolute top-3 right-3 bg-card/80 text-card-foreground text-xs font-semibold px-2.5 py-1 rounded-full backdrop-blur-sm border border-border",4,"ngIf"],[1,"flex","flex-1","flex-col","p-4","space-y-3"],[1,"flex-1","font-semibold","text-foreground","text-base","leading-tight","min-h-[2.5rem]","line-clamp-2"],[1,"flex","flex-col","items-start"],[1,"text-lg","font-bold","text-foreground"],[1,"border-t","border-border","p-3","opacity-0","group-hover:opacity-100","transition-opacity","duration-300"],[1,"btn","btn-primary","btn-sm","w-full","relative","z-20",3,"routerLink","disabled"],[1,"material-icons","text-base"],[1,"absolute","top-3","left-3","bg-destructive","text-destructive-foreground","text-xs","font-bold","px-2","py-1","rounded-full"],[1,"absolute","top-3","right-3","bg-card/80","text-card-foreground","text-xs","font-semibold","px-2.5","py-1","rounded-full","backdrop-blur-sm","border","border-border"]],template:function(r,s){r&1&&l(0,M,21,16,"div",0),r&2&&c("ngIf",s.product)},dependencies:[C,D,A,k,_],encapsulation:2});let e=i;return e})();var F=(function(e){return e.newest="Newest",e.oldest="Oldest",e.priceAsc="PriceAsc",e.priceDesc="PriceDesc",e.nameAsc="NameAsc",e.nameDesc="NameDesc",e.discountAsc="DiscountAsc",e.discountDesc="DiscountDesc",e})(F||{});export{B as a,F as b};
