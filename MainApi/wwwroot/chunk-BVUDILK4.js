import{a as D}from"./chunk-2RJJCBAD.js";import{a as j}from"./chunk-ENYYQIQK.js";import{a as B}from"./chunk-5SI6KF37.js";import"./chunk-5KULSLMJ.js";import{F as w,b as y,c as C,d as I,f as A,h as _,i as F,w as O}from"./chunk-Z34MJED6.js";import{Ab as i,Bb as h,Ca as r,Cb as d,Na as x,Nb as o,Ob as l,Pb as E,Sa as S,Xa as f,gb as p,hb as n,ib as t,jb as b,tb as v,za as g}from"./chunk-MQVQRUTD.js";import"./chunk-4CLCTAJ7.js";function P(u,a){u&1&&(n(0,"div",4)(1,"span",5),i(2,"sync"),t()())}function L(u,a){u&1&&(n(0,"div",6)(1,"p",7),i(2,"\u0633\u0641\u0627\u0631\u0634 \u0645\u0648\u0631\u062F \u0646\u0638\u0631 \u06CC\u0627\u0641\u062A \u0646\u0634\u062F."),t()())}function M(u,a){if(u&1&&(n(0,"div",27),b(1,"img",28),n(2,"div",29)(3,"p",24),i(4),t(),n(5,"p",10),i(6),o(7,"number"),t(),n(8,"p",10),i(9),o(10,"number"),t()(),n(11,"p",30),i(12),o(13,"number"),t()()),u&2){let e=a.$implicit;r(),p("src",(e.product==null?null:e.product.icon)||"https://via.placeholder.com/80",g)("alt",e.product==null?null:e.product.name),r(3),h(e.product==null?null:e.product.name),r(2),d("\u062A\u0639\u062F\u0627\u062F: ",l(7,6,e.quantity)),r(3),d("\u0642\u06CC\u0645\u062A \u0648\u0627\u062D\u062F: ",l(10,8,e.sellingPrice)," \u062A\u0648\u0645\u0627\u0646"),r(3),d("",l(13,10,e.amount)," \u062A\u0648\u0645\u0627\u0646")}}function T(u,a){if(u&1&&(n(0,"div",31)(1,"span"),i(2,"\u062A\u062E\u0641\u06CC\u0641:"),t(),n(3,"span",22),i(4),o(5,"number"),t()()),u&2){let e=v(2);r(4),d("-",l(5,1,e.order.discountAmount)," \u062A\u0648\u0645\u0627\u0646")}}function N(u,a){if(u&1&&(n(0,"div")(1,"div",8)(2,"div")(3,"h1",9),i(4),t(),n(5,"p",10),i(6),o(7,"date"),t()(),n(8,"div",11)(9,"span",12),o(10,"statusClass"),i(11),t()()(),n(12,"div",13)(13,"div",14)(14,"h2",15),i(15,"\u0645\u062D\u0635\u0648\u0644\u0627\u062A \u0633\u0641\u0627\u0631\u0634"),t(),n(16,"div",16),f(17,M,14,12,"div",17),t()(),n(18,"div",18)(19,"div",19)(20,"h2",15),i(21,"\u0627\u0637\u0644\u0627\u0639\u0627\u062A \u0627\u0631\u0633\u0627\u0644"),t(),n(22,"div",20)(23,"p",21)(24,"strong",22),i(25,"\u0622\u062F\u0631\u0633:"),t(),i(26),t(),n(27,"p",21)(28,"strong",22),i(29,"\u06A9\u062F \u067E\u0633\u062A\u06CC:"),t(),i(30),t(),n(31,"p",21)(32,"strong",22),i(33,"\u0627\u0633\u062A\u0627\u0646:"),t(),i(34),t(),n(35,"p",21)(36,"strong",22),i(37,"\u0634\u0647\u0631:"),t(),i(38),t()()(),n(39,"div",19)(40,"h2",15),i(41,"\u0641\u0627\u06A9\u062A\u0648\u0631 \u0646\u0647\u0627\u06CC\u06CC"),t(),n(42,"div",20)(43,"div",23)(44,"span",7),i(45,"\u062C\u0645\u0639 \u06A9\u0644:"),t(),n(46,"span",24),i(47),o(48,"number"),t()(),n(49,"div",23)(50,"span",7),i(51,"\u0647\u0632\u06CC\u0646\u0647 \u0627\u0631\u0633\u0627\u0644:"),t(),n(52,"span",24),i(53),o(54,"number"),t()(),f(55,T,6,3,"div",25),n(56,"div",26)(57,"span"),i(58,"\u0645\u0628\u0644\u063A \u0642\u0627\u0628\u0644 \u067E\u0631\u062F\u0627\u062E\u062A:"),t(),n(59,"span"),i(60),o(61,"number"),t()()()()()()()),u&2){let e=v();r(4),d("\u062C\u0632\u0626\u06CC\u0627\u062A \u0633\u0641\u0627\u0631\u0634 #",e.order.id),r(2),d("\u062B\u0628\u062A \u0634\u062F\u0647 \u062F\u0631 \u062A\u0627\u0631\u06CC\u062E: ",E(7,13,e.order.createdAt,"yyyy/MM/dd")),r(3),p("ngClass",l(10,16,e.order.orderStatus==null?null:e.order.orderStatus.name)),r(2),d(" \u0648\u0636\u0639\u06CC\u062A: ",(e.order.orderStatus==null?null:e.order.orderStatus.name)||"\u0646\u0627\u0645\u0634\u062E\u0635"," "),r(6),p("ngForOf",e.order.orderItems),r(9),d(" ",e.order.addressSnapshot==null?null:e.order.addressSnapshot.address),r(4),d(" ",e.order.addressSnapshot==null?null:e.order.addressSnapshot.postalCode),r(4),d(" ",e.order.addressSnapshot==null?null:e.order.addressSnapshot.province),r(4),d(" ",e.order.addressSnapshot==null?null:e.order.addressSnapshot.city),r(9),d("",l(48,18,e.order.totalAmount)," \u062A\u0648\u0645\u0627\u0646"),r(6),d("",l(54,20,e.order.shippingCost)," \u062A\u0648\u0645\u0627\u0646"),r(2),p("ngIf",e.order.discountAmount>0),r(5),d("",l(61,22,e.order.finalAmount)," \u062A\u0648\u0645\u0627\u0646")}}var J=(()=>{let a=class a{constructor(s,c,m){this.route=s,this.orderService=c,this.notificationService=m,this.order=null,this.isLoading=!0}ngOnInit(){let s=this.route.snapshot.paramMap.get("id");s?(this.orderId=Number(s),this.loadOrder()):(this.isLoading=!1,this.notificationService.show("\u0634\u0646\u0627\u0633\u0647 \u0633\u0641\u0627\u0631\u0634 \u0646\u0627\u0645\u0639\u062A\u0628\u0631 \u0627\u0633\u062A","error"))}loadOrder(){this.isLoading=!0,this.orderService.getOrderById(this.orderId).subscribe({next:s=>{this.order=s,this.isLoading=!1},error:()=>{this.notificationService.show("\u062E\u0637\u0627 \u062F\u0631 \u0628\u0627\u0631\u06AF\u0630\u0627\u0631\u06CC \u062C\u0632\u0626\u06CC\u0627\u062A \u0633\u0641\u0627\u0631\u0634","error"),this.isLoading=!1}})}};a.\u0275fac=function(c){return new(c||a)(x(O),x(B),x(j))},a.\u0275cmp=S({type:a,selectors:[["app-order-detail-page"]],decls:4,vars:3,consts:[[1,"p-6"],["class","flex justify-center items-center py-12",4,"ngIf"],["class","text-center py-12",4,"ngIf"],[4,"ngIf"],[1,"flex","justify-center","items-center","py-12"],[1,"material-icons","animate-spin","text-primary","text-4xl"],[1,"text-center","py-12"],[1,"text-muted-foreground"],[1,"flex","flex-col","md:flex-row","justify-between","md:items-center","border-b","border-border","pb-4","mb-6"],[1,"text-xl","font-semibold","text-foreground"],[1,"text-sm","text-muted-foreground"],[1,"mt-4","md:mt-0"],[1,"px-3","py-1.5","text-sm","font-semibold","rounded-full","whitespace-nowrap",3,"ngClass"],[1,"grid","grid-cols-1","lg:grid-cols-3","gap-6"],[1,"lg:col-span-2"],[1,"text-lg","font-semibold","mb-4","text-foreground"],[1,"rounded-lg","border","border-border","divide-y","divide-border"],["class","p-4 flex items-start gap-4",4,"ngFor","ngForOf"],[1,"space-y-6"],[1,"card","p-6"],[1,"space-y-2","text-sm"],[1,"text-foreground"],[1,"font-medium"],[1,"flex","justify-between"],[1,"font-medium","text-foreground"],["class","flex justify-between text-success",4,"ngIf"],[1,"flex","justify-between","font-bold","text-base","border-t","border-border","pt-3","mt-3","text-foreground"],[1,"p-4","flex","items-start","gap-4"],[1,"w-20","h-20","rounded-md","border","border-border","object-cover",3,"src","alt"],[1,"flex-1"],[1,"font-medium","text-base","self-center","text-foreground"],[1,"flex","justify-between","text-success"]],template:function(c,m){c&1&&(n(0,"div",0),f(1,P,3,0,"div",1)(2,L,3,0,"div",2)(3,N,62,24,"div",3),t()),c&2&&(r(),p("ngIf",m.isLoading),r(),p("ngIf",!m.isLoading&&!m.order),r(),p("ngIf",!m.isLoading&&m.order))},dependencies:[F,y,C,I,w,_,A,D],encapsulation:2});let u=a;return u})();export{J as OrderDetailPage};
