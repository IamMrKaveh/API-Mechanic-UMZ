import{a as Ie,b as we}from"./chunk-CHZY2KBV.js";import{a as ue}from"./chunk-ILHWHMQ7.js";import{a as de}from"./chunk-MUABL725.js";import{a as Se}from"./chunk-EAGZRU37.js";import{C as xe,a as ae,b as le,c as p,d as pe,e as ce,f as M,g as m,k as me,l as he,m as fe,p as ve,q as ge,r as ye,s as Ae,w as be,x as Ce}from"./chunk-YV4WRMWB.js";import{a as V,b as oe}from"./chunk-M33O2ZB5.js";import{a as se}from"./chunk-ENYYQIQK.js";import{a as Fe}from"./chunk-5SI6KF37.js";import{a as _}from"./chunk-5KULSLMJ.js";import{F as ne,b as X,c as Y,d as Z,h as ee,i as te,j as k,p as ie,y as re}from"./chunk-Z34MJED6.js";import{Ab as s,Bb as F,Ca as o,Cb as b,Db as O,Eb as J,F as D,L as G,Lb as P,M as y,N as K,Na as h,Nb as C,Ob as x,Qb as Q,S as R,Sa as H,W as U,Xa as f,Yb as W,f as q,gb as a,hb as t,ib as i,j as N,jb as g,sb as I,tb as w,ua as L,xb as z,z as B}from"./chunk-MQVQRUTD.js";import{a as $,c as j}from"./chunk-4CLCTAJ7.js";var _e=(()=>{let d=class d{constructor(e){this.http=e,this.apiUrl=`${_.API_URL}ShippingMethods`}getActiveShippingMethods(){return this.http.get(this.apiUrl)}};d.\u0275fac=function(l){return new(l||d)(U(ie))},d.\u0275prov=R({token:d,factory:d.\u0275fac,providedIn:"root"});let n=d;return n})();var Ee=(n,d)=>({"btn-primary":n,"btn-outline":d});function Oe(n,d){if(n&1&&(t(0,"label",33),g(1,"input",34),t(2,"div",35)(3,"p",36),s(4),i(),t(5,"p",37),s(6),i(),t(7,"p",37),s(8),i()()()),n&2){let u=d.$implicit;o(),a("value",u.id),o(3),O("",u.title," - ",u.receiverName),o(2),J("",u.province,", ",u.city,", ",u.address," "),o(2),O("\u06A9\u062F\u067E\u0633\u062A\u06CC: ",u.postalCode," | \u062A\u0644\u0641\u0646: ",u.phoneNumber," ")}}function Pe(n,d){if(n&1&&(t(0,"div",14),f(1,Oe,9,8,"label",32),i()),n&2){let u=w(2);o(),a("ngForOf",u.userAddresses)}}function Ve(n,d){n&1&&(t(0,"div",38)(1,"p",39),s(2,"\u0622\u062F\u0631\u0633\u06CC \u0628\u0631\u0627\u06CC \u0634\u0645\u0627 \u062B\u0628\u062A \u0646\u0634\u062F\u0647 \u0627\u0633\u062A. \u0644\u0637\u0641\u0627\u064B \u06CC\u06A9 \u0622\u062F\u0631\u0633 \u062C\u062F\u06CC\u062F \u0648\u0627\u0631\u062F \u06A9\u0646\u06CC\u062F."),i()())}function Me(n,d){if(n&1&&(t(0,"div",30),f(1,Pe,2,1,"div",31)(2,Ve,3,0,"ng-template",null,0,Q),i()),n&2){let u=z(3),e=w();a("formGroup",e.orderForm),o(),a("ngIf",e.userAddresses.length>0)("ngIfElse",u)}}function $e(n,d){if(n&1&&(t(0,"option",59),s(1),i()),n&2){let u=d.$implicit;a("value",u.name),o(),F(u.name)}}function je(n,d){if(n&1&&(t(0,"option",59),s(1),i()),n&2){let u=d.$implicit;a("value",u.name),o(),F(u.name)}}function qe(n,d){if(n&1&&(t(0,"div",40)(1,"div",41)(2,"div")(3,"label",42),s(4,"\u0646\u0627\u0645 \u06AF\u06CC\u0631\u0646\u062F\u0647"),i(),g(5,"input",43),i(),t(6,"div")(7,"label",44),s(8,"\u0634\u0645\u0627\u0631\u0647 \u062A\u0645\u0627\u0633"),i(),g(9,"input",45),i(),t(10,"div")(11,"label",46),s(12,"\u0627\u0633\u062A\u0627\u0646"),i(),t(13,"select",47)(14,"option",48),s(15,"\u0627\u0633\u062A\u0627\u0646 \u0631\u0627 \u0627\u0646\u062A\u062E\u0627\u0628 \u06A9\u0646\u06CC\u062F"),i(),f(16,$e,2,2,"option",49),i()(),t(17,"div")(18,"label",50),s(19,"\u0634\u0647\u0631"),i(),t(20,"select",51)(21,"option",48),s(22,"\u0634\u0647\u0631 \u0631\u0627 \u0627\u0646\u062A\u062E\u0627\u0628 \u06A9\u0646\u06CC\u062F"),i(),f(23,je,2,2,"option",49),i()()(),t(24,"div")(25,"label",52),s(26,"\u0622\u062F\u0631\u0633 \u06A9\u0627\u0645\u0644"),i(),t(27,"textarea",53),s(28,"            "),i()(),t(29,"div")(30,"label",54),s(31,"\u06A9\u062F\u067E\u0633\u062A\u06CC"),i(),g(32,"input",55),i(),t(33,"div",56),g(34,"input",57),t(35,"label",58),s(36,"\u0630\u062E\u06CC\u0631\u0647 \u0627\u06CC\u0646 \u0622\u062F\u0631\u0633 \u0628\u0631\u0627\u06CC \u0627\u0633\u062A\u0641\u0627\u062F\u0647\u200C\u0647\u0627\u06CC \u0628\u0639\u062F\u06CC"),i()()()),n&2){let u,e=w();a("formGroup",e.newAddressForm),o(16),a("ngForOf",e.states),o(4),a("disabled",!((u=e.newAddressForm.get("province"))!=null&&u.value)),o(3),a("ngForOf",e.cities)}}function Be(n,d){if(n&1&&(t(0,"label",60),g(1,"input",61),t(2,"div",62)(3,"p",36),s(4),i(),t(5,"p",37),s(6),i()(),t(7,"p",63),s(8),C(9,"number"),i()()),n&2){let u=d.$implicit;o(),a("value",u.id),o(3),F(u.name),o(2),F(u.description),o(2),b("",x(9,4,u.cost)," \u062A\u0648\u0645\u0627\u0646")}}function Ge(n,d){if(n&1&&(t(0,"div",64)(1,"span"),s(2,"\u062A\u062E\u0641\u06CC\u0641"),i(),t(3,"span"),s(4),C(5,"number"),i()()),n&2){let u=w();o(4),b("- ",x(5,1,u.discountAmount)," \u062A\u0648\u0645\u0627\u0646")}}function Ke(n,d){n&1&&(t(0,"span",65),s(1,"sync"),i())}function Re(n,d){n&1&&(t(0,"span"),s(1,"\u0627\u0639\u0645\u0627\u0644"),i())}function Ue(n,d){n&1&&(t(0,"span",66),s(1,"sync"),i())}var Te=(()=>{let d=class d{constructor(e,l,r,A,S,E,c,v,T,ke){this.cartService=e,this.orderService=l,this.authService=r,this.profileService=A,this.locationService=S,this.shippingService=E,this.router=c,this.notificationService=v,this.cdr=T,this.platformId=ke,this.destroy$=new q,this.discountCodeControl=new m(""),this.cart=null,this.isSubmitting=!1,this.isApplyingDiscount=!1,this.userProfile=null,this.userAddresses=[],this.deliveryType="savedAddress",this.states=[],this.cities=[],this.shippingMethods=[],this.selectedShippingCost=0,this.discountAmount=0,this.appliedDiscount=null,this.idempotencyKey="",this.orderForm=new M({userAddressId:new m(null,p.required),shippingMethodId:new m(null,p.required)}),this.newAddressForm=new M({title:new m("\u0622\u062F\u0631\u0633 \u062C\u062F\u06CC\u062F",p.required),receiverName:new m("",p.required),phoneNumber:new m("",[p.required,p.pattern(/^09\d{9}$/)]),province:new m("",p.required),city:new m({value:"",disabled:!0},p.required),address:new m("",p.required),postalCode:new m("",[p.required,p.pattern(/^\d{10}$/)]),saveNewAddress:new m(!0)})}ngOnInit(){this.initIdempotencyKey(),this.loadInitialData(),this.cartService.getMyCart().pipe(y(this.destroy$)).subscribe(),this.cartService.cart$.pipe(y(this.destroy$)).subscribe(e=>{this.cart=e,(!e||e.totalItems===0)&&this.router.navigate(["/cart"]),this.updateTotals(),this.cdr.markForCheck()}),this.orderForm.get("shippingMethodId")?.valueChanges.pipe(y(this.destroy$)).subscribe(e=>{let l=this.shippingMethods.find(r=>r.id===Number(e));this.selectedShippingCost=l?.cost??0,this.updateTotals()}),this.newAddressForm.get("province")?.valueChanges.pipe(y(this.destroy$),G(e=>{let l=this.states.find(r=>r.name===e);return this.newAddressForm.get("city")?.reset(""),this.cities=[],l?(this.newAddressForm.get("city")?.enable(),this.locationService.getCitiesByState(l.id)):(this.newAddressForm.get("city")?.disable(),N([]))})).subscribe(e=>{this.cities=e,this.cdr.markForCheck()})}initIdempotencyKey(){if(k(this.platformId)){let e=sessionStorage.getItem("idempotencyKey");e?this.idempotencyKey=e:(this.idempotencyKey=V(),sessionStorage.setItem("idempotencyKey",this.idempotencyKey))}else this.idempotencyKey=V()}loadInitialData(){this.profileService.getProfile().pipe(y(this.destroy$)).subscribe(e=>{if(this.userProfile=e,this.userAddresses=e?.userAddresses||[],this.userAddresses.length>0){let l=this.userAddresses.find(r=>r.isDefault)||this.userAddresses[0];this.orderForm.get("userAddressId")?.setValue(l.id),this.deliveryType="savedAddress"}else this.deliveryType="newAddress";this.toggleAddressValidators()}),this.shippingService.getActiveShippingMethods().pipe(y(this.destroy$)).subscribe({next:e=>{this.shippingMethods=e,e.length>0&&this.orderForm.get("shippingMethodId")?.setValue(e[0].id)},error:()=>{this.notificationService.show("\u062E\u0637\u0627 \u062F\u0631 \u0628\u0627\u0631\u06AF\u0630\u0627\u0631\u06CC \u0631\u0648\u0634\u200C\u0647\u0627\u06CC \u0627\u0631\u0633\u0627\u0644","error")}}),this.locationService.getStates().subscribe(e=>{this.states=e})}toggleDeliveryType(e){this.deliveryType=e,this.toggleAddressValidators()}toggleAddressValidators(){this.deliveryType==="savedAddress"?(this.orderForm.get("userAddressId")?.setValidators([p.required]),Object.keys(this.newAddressForm.controls).forEach(e=>{this.newAddressForm.get(e)?.clearValidators(),this.newAddressForm.get(e)?.updateValueAndValidity()})):(this.orderForm.get("userAddressId")?.clearValidators(),this.newAddressForm.get("title")?.setValidators([p.required]),this.newAddressForm.get("receiverName")?.setValidators([p.required]),this.newAddressForm.get("phoneNumber")?.setValidators([p.required,p.pattern(/^09\d{9}$/)]),this.newAddressForm.get("province")?.setValidators([p.required]),this.newAddressForm.get("city")?.setValidators([p.required]),this.newAddressForm.get("address")?.setValidators([p.required]),this.newAddressForm.get("postalCode")?.setValidators([p.required,p.pattern(/^\d{10}$/)])),this.orderForm.get("userAddressId")?.updateValueAndValidity(),Object.keys(this.newAddressForm.controls).forEach(e=>{this.newAddressForm.get(e)?.updateValueAndValidity()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}updateTotals(){this.cdr.markForCheck()}get grandTotal(){let l=(this.cart?.totalPrice??0)+this.selectedShippingCost-this.discountAmount;return l>0?l:0}get totalItemsCount(){return this.cart?.totalItems??0}get totalItemsPrice(){return this.cart?.totalPrice??0}applyDiscount(){let e=this.discountCodeControl.value;if(!e||!this.cart){this.notificationService.show("\u0644\u0637\u0641\u0627 \u06A9\u062F \u062A\u062E\u0641\u06CC\u0641 \u0631\u0627 \u0648\u0627\u0631\u062F \u06A9\u0646\u06CC\u062F","info");return}this.isApplyingDiscount=!0,this.orderService.validateDiscount(e,this.cart.totalPrice).pipe(D(()=>{this.isApplyingDiscount=!1,this.cdr.markForCheck()})).subscribe({next:l=>{this.appliedDiscount=l;let r=this.cart.totalPrice*this.appliedDiscount.percentage/100;this.appliedDiscount.maxDiscountAmount&&r>this.appliedDiscount.maxDiscountAmount&&(r=this.appliedDiscount.maxDiscountAmount),this.discountAmount=r,this.notificationService.show(`\u062A\u062E\u0641\u06CC\u0641 ${r.toLocaleString()} \u062A\u0648\u0645\u0627\u0646\u06CC \u0627\u0639\u0645\u0627\u0644 \u0634\u062F`,"success"),this.updateTotals()},error:l=>{this.discountAmount=0,this.appliedDiscount=null,this.discountCodeControl.setValue(""),this.notificationService.show(l.error?.message||"\u06A9\u062F \u062A\u062E\u0641\u06CC\u0641 \u0646\u0627\u0645\u0639\u062A\u0628\u0631 \u0627\u0633\u062A","error"),this.updateTotals()}})}proceedToCheckout(){let e=this.deliveryType==="savedAddress"&&this.orderForm.get("userAddressId")?.valid,l=this.deliveryType==="newAddress"&&this.newAddressForm.valid,r=this.orderForm.get("shippingMethodId")?.value;if(!(e||l)||!r){this.notificationService.show("\u0644\u0637\u0641\u0627\u064B \u062A\u0645\u0627\u0645 \u0627\u0637\u0644\u0627\u0639\u0627\u062A \u0644\u0627\u0632\u0645 \u0631\u0627 \u0648\u0627\u0631\u062F \u06A9\u0646\u06CC\u062F.","error"),this.deliveryType==="savedAddress"&&this.orderForm.markAllAsTouched(),this.deliveryType==="newAddress"&&this.newAddressForm.markAllAsTouched();return}if(!this.cart||this.cart.cartItems.length===0){this.notificationService.show("\u0633\u0628\u062F \u062E\u0631\u06CC\u062F \u0634\u0645\u0627 \u062E\u0627\u0644\u06CC \u0627\u0633\u062A.","error"),this.router.navigate(["/"]);return}this.isSubmitting=!0;let A=this.cart.cartItems.map(c=>({variantId:c.variantId,price:c.sellingPrice,rowVersion:c.rowVersion})),S={shippingMethodId:Number(r),discountCode:this.discountCodeControl.value||void 0,expectedItems:A,callbackUrl:`${_.frontendBaseUrl}${_.paymentUrls.callback}`};if(this.deliveryType==="savedAddress")S.userAddressId=Number(this.orderForm.value.userAddressId);else{let E=this.newAddressForm.getRawValue(),{saveNewAddress:c}=E,v=j(E,["saveNewAddress"]),T=$({},v);v.title&&(T.Title=v.title),S.newAddress=T,S.saveNewAddress=!!c}this.orderService.checkoutFromCart(S,this.idempotencyKey).pipe(D(()=>{}),K(c=>{if(c&&c.paymentUrl){if(this.notificationService.show("\u062F\u0631 \u062D\u0627\u0644 \u0627\u0646\u062A\u0642\u0627\u0644 \u0628\u0647 \u062F\u0631\u06AF\u0627\u0647 \u067E\u0631\u062F\u0627\u062E\u062A...","info"),this.cartService.clearLocalCart(),k(this.platformId)&&sessionStorage.removeItem("idempotencyKey"),k(this.platformId)){let v=c.paymentUrl;setTimeout(()=>{window.location.href=v},500)}}else this.isSubmitting=!1,this.cdr.markForCheck(),this.notificationService.show("\u062E\u0637\u0627 \u062F\u0631 \u062F\u0631\u06CC\u0627\u0641\u062A \u0644\u06CC\u0646\u06A9 \u067E\u0631\u062F\u0627\u062E\u062A","error")}),B(c=>{this.isSubmitting=!1,this.cdr.markForCheck();let v=c?.error?.message||"\u062E\u0637\u0627 \u062F\u0631 \u062B\u0628\u062A \u0633\u0641\u0627\u0631\u0634.";return this.notificationService.show(v,"error"),c.status===409&&this.cartService.getMyCart().subscribe(),N(null)}),y(this.destroy$)).subscribe()}};d.\u0275fac=function(l){return new(l||d)(h(oe),h(Fe),h(de),h(Ie),h(we),h(_e),h(re),h(se),h(W),h(L))},d.\u0275cmp=H({type:d,selectors:[["app-order-page"]],decls:55,vars:34,consts:[["noAddress",""],[1,"container","py-8"],[3,"currentStep"],[1,"text-3xl","font-bold","tracking-tight","mb-8","text-foreground"],[1,"grid","grid-cols-1","gap-12","md:grid-cols-3","items-start"],[1,"md:col-span-2","space-y-8"],[1,"card","p-6"],[1,"text-lg","font-semibold","text-foreground","mb-4"],[1,"flex","gap-4","mb-4","border-b","border-border","pb-4"],[1,"btn","flex-1",3,"click","ngClass","disabled"],[1,"btn","flex-1",3,"click","ngClass"],[3,"formGroup",4,"ngIf"],["class","space-y-4",3,"formGroup",4,"ngIf"],[1,"card","p-6",3,"formGroup"],[1,"space-y-3"],["class","flex items-center p-4 border rounded-lg cursor-pointer hover:bg-accent has-[:checked]:bg-primary/10 has-[:checked]:border-primary",4,"ngFor","ngForOf"],[1,"md:col-span-1"],[1,"card","p-6","space-y-4","sticky","top-24"],[1,"text-lg","font-semibold","text-foreground"],[1,"flex","justify-between","text-sm","text-muted-foreground"],["class","flex justify-between text-sm text-success font-medium",4,"ngIf"],[1,"flex","items-center","gap-2","pt-4","border-t"],["type","text","placeholder","\u06A9\u062F \u062A\u062E\u0641\u06CC\u0641",1,"input","flex-1",3,"formControl"],[1,"btn","btn-outline",3,"click","disabled"],["class","material-icons animate-spin text-sm",4,"ngIf"],[4,"ngIf"],[1,"border-t","border-border","pt-4"],[1,"flex","justify-between","text-base","font-bold","text-foreground"],[1,"btn","btn-primary","btn-lg","w-full",3,"click","disabled"],["class","material-icons animate-spin me-2",4,"ngIf"],[3,"formGroup"],["class","space-y-3",4,"ngIf","ngIfElse"],["class","flex items-start p-4 border rounded-lg cursor-pointer hover:bg-accent has-[:checked]:bg-primary/10 has-[:checked]:border-primary",4,"ngFor","ngForOf"],[1,"flex","items-start","p-4","border","rounded-lg","cursor-pointer","hover:bg-accent","has-[:checked]:bg-primary/10","has-[:checked]:border-primary"],["type","radio","name","userAddressId","formControlName","userAddressId",1,"mt-1",3,"value"],[1,"flex-1","mr-4"],[1,"font-semibold","text-foreground"],[1,"text-sm","text-muted-foreground"],[1,"text-center","p-4","border-2","border-dashed","rounded-lg"],[1,"text-muted-foreground"],[1,"space-y-4",3,"formGroup"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-4"],["for","receiverName",1,"text-sm","font-medium"],["id","receiverName","type","text","formControlName","receiverName","minlength","2",1,"input","mt-1"],["for","newPhoneNumber",1,"text-sm","font-medium"],["id","newPhoneNumber","type","tel","formControlName","phoneNumber","minlength","11","maxlength","11",1,"input","mt-1"],["for","province",1,"text-sm","font-medium"],["id","province","formControlName","province",1,"input","mt-1"],["value","","disabled",""],[3,"value",4,"ngFor","ngForOf"],["for","city",1,"text-sm","font-medium"],["id","city","formControlName","city",1,"input","mt-1",3,"disabled"],["for","fullAddress",1,"text-sm","font-medium"],["id","fullAddress","formControlName","address","minlength","10",1,"input","mt-1","min-h-[80px]"],["for","postalCode",1,"text-sm","font-medium"],["id","postalCode","type","text","formControlName","postalCode","minlength","10","maxlength","10",1,"input","mt-1"],[1,"flex","items-center"],["type","checkbox","id","saveNewAddress","formControlName","saveNewAddress",1,"h-4","w-4","rounded","border-gray-300","text-primary","focus:ring-primary"],["for","saveNewAddress",1,"ml-2","block","text-sm","text-gray-900"],[3,"value"],[1,"flex","items-center","p-4","border","rounded-lg","cursor-pointer","hover:bg-accent","has-[:checked]:bg-primary/10","has-[:checked]:border-primary"],["type","radio","name","shippingMethodId","formControlName","shippingMethodId",1,"sr-only",3,"value"],[1,"flex-1"],[1,"font-bold","text-foreground"],[1,"flex","justify-between","text-sm","text-success","font-medium"],[1,"material-icons","animate-spin","text-sm"],[1,"material-icons","animate-spin","me-2"]],template:function(l,r){l&1&&(t(0,"div",1),g(1,"app-roadmap",2),t(2,"h1",3),s(3,"\u062A\u06A9\u0645\u06CC\u0644 \u0627\u0637\u0644\u0627\u0639\u0627\u062A \u0648 \u062B\u0628\u062A \u0633\u0641\u0627\u0631\u0634"),i(),t(4,"div",4)(5,"div",5)(6,"div",6)(7,"h2",7),s(8,"\u0627\u0646\u062A\u062E\u0627\u0628 \u0622\u062F\u0631\u0633 \u0627\u0631\u0633\u0627\u0644"),i(),t(9,"div",8)(10,"button",9),I("click",function(){return r.toggleDeliveryType("savedAddress")}),s(11," \u0627\u0631\u0633\u0627\u0644 \u0628\u0647 \u0622\u062F\u0631\u0633\u200C\u0647\u0627\u06CC \u0645\u0646 "),i(),t(12,"button",10),I("click",function(){return r.toggleDeliveryType("newAddress")}),s(13," \u0627\u0631\u0633\u0627\u0644 \u0628\u0647 \u0622\u062F\u0631\u0633 \u062C\u062F\u06CC\u062F "),i()(),f(14,Me,4,3,"div",11)(15,qe,37,4,"div",12),i(),t(16,"div",13)(17,"h2",7),s(18,"\u0631\u0648\u0634 \u0627\u0631\u0633\u0627\u0644"),i(),t(19,"div",14),f(20,Be,10,6,"label",15),i()()(),t(21,"div",16)(22,"div",17)(23,"h2",18),s(24,"\u062E\u0644\u0627\u0635\u0647 \u0633\u0641\u0627\u0631\u0634"),i(),t(25,"div",19)(26,"span"),s(27),C(28,"number"),i(),t(29,"span"),s(30),C(31,"number"),i()(),t(32,"div",19)(33,"span"),s(34,"\u0647\u0632\u06CC\u0646\u0647 \u0627\u0631\u0633\u0627\u0644"),i(),t(35,"span"),s(36),C(37,"number"),i()(),f(38,Ge,6,3,"div",20),t(39,"div",21),g(40,"input",22),t(41,"button",23),I("click",function(){return r.applyDiscount()}),f(42,Ke,2,0,"span",24)(43,Re,2,0,"span",25),i()(),t(44,"div",26)(45,"div",27)(46,"p"),s(47,"\u0645\u0628\u0644\u063A \u0642\u0627\u0628\u0644 \u067E\u0631\u062F\u0627\u062E\u062A"),i(),t(48,"p"),s(49),C(50,"number"),i()()(),t(51,"button",28),I("click",function(){return r.proceedToCheckout()}),f(52,Ue,2,0,"span",29),t(53,"span"),s(54),i()()()()()()),l&2&&(o(),a("currentStep",2),o(9),a("ngClass",P(28,Ee,r.deliveryType==="savedAddress",r.deliveryType!=="savedAddress"))("disabled",r.userAddresses.length===0),o(2),a("ngClass",P(31,Ee,r.deliveryType==="newAddress",r.deliveryType!=="newAddress")),o(2),a("ngIf",r.deliveryType==="savedAddress"),o(),a("ngIf",r.deliveryType==="newAddress"),o(),a("formGroup",r.orderForm),o(4),a("ngForOf",r.shippingMethods),o(7),b("\u0645\u062C\u0645\u0648\u0639 \u0642\u06CC\u0645\u062A (",x(28,20,r.totalItemsCount)," \u06A9\u0627\u0644\u0627)"),o(3),b("",x(31,22,r.totalItemsPrice)," \u062A\u0648\u0645\u0627\u0646"),o(6),b("",x(37,24,r.selectedShippingCost)," \u062A\u0648\u0645\u0627\u0646"),o(2),a("ngIf",r.discountAmount>0),o(2),a("formControl",r.discountCodeControl),o(),a("disabled",!r.discountCodeControl.value||r.isApplyingDiscount),o(),a("ngIf",r.isApplyingDiscount),o(),a("ngIf",!r.isApplyingDiscount),o(6),b("",x(50,26,r.grandTotal)," \u062A\u0648\u0645\u0627\u0646"),o(2),a("disabled",r.isSubmitting),o(),a("ngIf",r.isSubmitting),o(2),F(r.isSubmitting?"\u062F\u0631 \u062D\u0627\u0644 \u062B\u0628\u062A \u0633\u0641\u0627\u0631\u0634...":"\u067E\u0631\u062F\u0627\u062E\u062A \u0648 \u062B\u0628\u062A \u0646\u0647\u0627\u06CC\u06CC \u0633\u0641\u0627\u0631\u0634"))},dependencies:[te,X,Y,Z,xe,ye,Ae,le,ae,ge,me,pe,ce,be,Ce,he,fe,ve,ne,Se,ee],encapsulation:2});let n=d;return n})();var gt=[{path:"",component:Te,canActivate:[ue]}];export{gt as CHECKOUT_ROUTES};
