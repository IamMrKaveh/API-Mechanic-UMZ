import{a as s}from"./chunk-HEUSUCDJ.js";import{q as h}from"./chunk-QOTKPPKC.js";import{S as o,W as d}from"./chunk-6VZDFBBI.js";var U=(()=>{let i=class i{constructor(t){this.http=t,this.mediaUrl=`${s.API_URL}Media`}getMediaForEntity(t,e){return this.http.get(`${this.mediaUrl}/${t}/${e}`)}deleteMedia(t){return this.http.delete(`${this.mediaUrl}/${t}`)}setPrimaryMedia(t,e,a){return this.http.patch(`${this.mediaUrl}/set-primary`,{mediaId:t,entityId:e,entityType:a})}uploadFile(t,e,a,m=!1,p){let r=new FormData;return r.append("file",t),r.append("entityType",e),r.append("entityId",a.toString()),r.append("isPrimary",m.toString()),p&&r.append("altText",p),this.http.post(`${this.mediaUrl}/upload`,r)}getMediaUrl(t){if(!t)return"";if(t.startsWith("http")||t.startsWith("data:"))return t;let e=s.API_URL.replace("/api/",""),a=t.startsWith("/")?t.substring(1):t;return`${e}/${a}`}};i.\u0275fac=function(e){return new(e||i)(d(h))},i.\u0275prov=o({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})();export{U as a};
