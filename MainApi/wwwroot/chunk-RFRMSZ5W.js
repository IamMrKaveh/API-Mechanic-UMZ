import{a as p}from"./chunk-WNMS36QR.js";import{l,o}from"./chunk-PMZJQWMM.js";import{O as r,T as n,X as a,e as h}from"./chunk-OU7FPMWK.js";var u=(()=>{class e{constructor(t){this.http=t,this.apiUrl=`${p.API_URL}wishlist`,this.wishlistIds=new h(new Set),this.wishlistIds$=this.wishlistIds.asObservable()}getWishlist(t=1,s=20){let i=new l().set("page",t.toString()).set("pageSize",s.toString());return this.http.get(this.apiUrl,{params:i})}toggle(t){return this.http.post(`${this.apiUrl}/toggle`,{productId:t}).pipe(r(s=>{let i=new Set(this.wishlistIds.value);s?i.add(t):i.delete(t),this.wishlistIds.next(i)}))}checkStatus(t){return this.http.get(`${this.apiUrl}/check/${t}`).pipe(r(s=>{let i=new Set(this.wishlistIds.value);s?i.add(t):i.delete(t),this.wishlistIds.next(i)}))}isInWishlist(t){return this.wishlistIds.value.has(t)}static{this.\u0275fac=function(s){return new(s||e)(a(o))}}static{this.\u0275prov=n({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();export{u as a};
