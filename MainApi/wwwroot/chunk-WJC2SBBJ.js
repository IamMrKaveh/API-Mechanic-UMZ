import { a as L } from "./chunk-CCDKSRRZ.js"; import { a as P } from "./chunk-X53S5UY7.js"; import { a as D } from "./chunk-OR3E3ANE.js"; import "./chunk-WNMS36QR.js"; import { H as B, b as C, c as A, d as _, f as w, h as F, i as O, y as j } from "./chunk-H5ECWNVP.js"; import { Hb as v, Oa as g, Pb as i, Qb as b, Rb as a, Sa as r, Sb as y, Tb as E, ac as o, bb as f, bc as l, cc as I, gb as S, lb as x, ub as p, vb as n, wb as t, xb as h } from "./chunk-C5CPS5UB.js"; import "./chunk-4CLCTAJ7.js"; function M(d, u) { d & 1 && (n(0, "div", 4)(1, "span", 5), i(2, "sync"), t()()) } function N(d, u) { d & 1 && (n(0, "div", 6)(1, "p", 7), i(2, "\u0633\u0641\u0627\u0631\u0634 \u0645\u0648\u0631\u062F \u0646\u0638\u0631 \u06CC\u0627\u0641\u062A \u0646\u0634\u062F."), t()()) } function T(d, u) { if (d & 1 && (n(0, "div", 27)(1, "div", 28), h(2, "img", 29), t(), n(3, "div", 30)(4, "h4", 31), i(5), t(), n(6, "div", 11), i(7), o(8, "number"), o(9, "number"), t()(), n(10, "div", 32), i(11), o(12, "number"), t()()), d & 2) { let e = u.$implicit; r(2), p("src", (e.product == null ? null : e.product.icon) || "https://via.placeholder.com/80", g), r(3), b(e.product == null ? null : e.product.name), r(2), y(" ", l(8, 5, e.quantity), " \u0639\u062F\u062F \xD7 ", l(9, 7, e.sellingPrice), " \u062A\u0648\u0645\u0627\u0646 "), r(4), a(" ", l(12, 9, e.amount), " \u062A\u0648\u0645\u0627\u0646 ") } } function R(d, u) { if (d & 1 && (n(0, "div", 33)(1, "span"), i(2, "\u062A\u062E\u0641\u06CC\u0641"), t(), n(3, "span"), i(4), o(5, "number"), t()()), d & 2) { let e = v(2); r(4), a("-", l(5, 1, e.order.discountAmount), " \u062A\u0648\u0645\u0627\u0646") } } function k(d, u) { if (d & 1 && (n(0, "div", 8)(1, "div", 9)(2, "div")(3, "h1", 10), i(4), t(), n(5, "p", 11), i(6), o(7, "date"), t()(), n(8, "span", 12), o(9, "statusClass"), i(10), t()(), n(11, "div", 13)(12, "div", 14)(13, "div", 15)(14, "div", 16), i(15, "\u0627\u0642\u0644\u0627\u0645 \u0633\u0641\u0627\u0631\u0634"), t(), n(16, "div", 17), x(17, T, 13, 11, "div", 18), t()()(), n(18, "div", 8)(19, "div", 19)(20, "h3", 20), i(21, "\u0627\u0637\u0644\u0627\u0639\u0627\u062A \u0627\u0631\u0633\u0627\u0644"), t(), n(22, "div", 21)(23, "p")(24, "span", 22), i(25, "\u06AF\u06CC\u0631\u0646\u062F\u0647:"), t(), i(26), t(), n(27, "p")(28, "span", 22), i(29, "\u0622\u062F\u0631\u0633:"), t(), i(30), t(), n(31, "p")(32, "span", 22), i(33, "\u06A9\u062F \u067E\u0633\u062A\u06CC:"), t(), i(34), t(), n(35, "p")(36, "span", 22), i(37, "\u0634\u0645\u0627\u0631\u0647 \u062A\u0645\u0627\u0633:"), t(), i(38), t()()(), n(39, "div", 19)(40, "h3", 20), i(41, "\u0641\u0627\u06A9\u062A\u0648\u0631 \u0646\u0647\u0627\u06CC\u06CC"), t(), n(42, "div", 23)(43, "div", 24)(44, "span"), i(45, "\u062C\u0645\u0639 \u0627\u0642\u0644\u0627\u0645"), t(), n(46, "span"), i(47), o(48, "number"), t()(), n(49, "div", 24)(50, "span"), i(51, "\u0647\u0632\u06CC\u0646\u0647 \u0627\u0631\u0633\u0627\u0644"), t(), n(52, "span"), i(53), o(54, "number"), t()(), x(55, R, 6, 3, "div", 25), n(56, "div", 26)(57, "span"), i(58, "\u0645\u0628\u0644\u063A \u06A9\u0644"), t(), n(59, "span"), i(60), o(61, "number"), t()()()()()()()), d & 2) { let e = v(); r(4), a("\u0633\u0641\u0627\u0631\u0634 #", e.order.id), r(2), a("\u062B\u0628\u062A \u0634\u062F\u0647 \u062F\u0631 ", I(7, 15, e.order.createdAt, "yyyy/MM/dd")), r(2), p("ngClass", l(9, 18, e.order.orderStatus == null ? null : e.order.orderStatus.name)), r(2), a(" ", (e.order.orderStatus == null ? null : e.order.orderStatus.name) || "\u0646\u0627\u0645\u0634\u062E\u0635", " "), r(7), p("ngForOf", e.order.orderItems), r(9), a(" ", e.order.addressSnapshot == null ? null : e.order.addressSnapshot.receiverName), r(4), E(" ", e.order.addressSnapshot == null ? null : e.order.addressSnapshot.province, "\u060C ", e.order.addressSnapshot == null ? null : e.order.addressSnapshot.city, "\u060C ", e.order.addressSnapshot == null ? null : e.order.addressSnapshot.address), r(4), a(" ", e.order.addressSnapshot == null ? null : e.order.addressSnapshot.postalCode), r(4), a(" ", e.order.addressSnapshot == null ? null : e.order.addressSnapshot.phoneNumber), r(9), a("", l(48, 20, e.order.totalAmount), " \u062A\u0648\u0645\u0627\u0646"), r(6), a("", l(54, 22, e.order.shippingCost), " \u062A\u0648\u0645\u0627\u0646"), r(2), p("ngIf", e.order.discountAmount > 0), r(5), a("", l(61, 24, e.order.finalAmount), " \u062A\u0648\u0645\u0627\u0646") } } var Q = (() => { let u = class u { constructor(s, c, m) { this.route = s, this.orderService = c, this.notificationService = m, this.order = null, this.isLoading = !0 } ngOnInit() { let s = this.route.snapshot.paramMap.get("id"); s ? (this.orderId = Number(s), this.loadOrder()) : (this.isLoading = !1, this.notificationService.show("\u0634\u0646\u0627\u0633\u0647 \u0633\u0641\u0627\u0631\u0634 \u0646\u0627\u0645\u0639\u062A\u0628\u0631 \u0627\u0633\u062A", "error")) } loadOrder() { this.isLoading = !0, this.orderService.getOrderById(this.orderId).subscribe({ next: s => { this.order = s, this.isLoading = !1 }, error: () => { this.notificationService.show("\u062E\u0637\u0627 \u062F\u0631 \u0628\u0627\u0631\u06AF\u0630\u0627\u0631\u06CC \u062C\u0632\u0626\u06CC\u0627\u062A \u0633\u0641\u0627\u0631\u0634", "error"), this.isLoading = !1 } }) } }; u.\u0275fac = function (c) { return new (c || u)(f(j), f(P), f(D)) }, u.\u0275cmp = S({ type: u, selectors: [["app-order-detail-page"]], decls: 4, vars: 3, consts: [[1, "container", "py-8", "max-w-5xl"], ["class", "flex justify-center py-12", 4, "ngIf"], ["class", "text-center py-12 card border-dashed", 4, "ngIf"], ["class", "space-y-6", 4, "ngIf"], [1, "flex", "justify-center", "py-12"], [1, "material-icons", "animate-spin", "text-primary", "text-3xl"], [1, "text-center", "py-12", "card", "border-dashed"], [1, "text-muted-foreground"], [1, "space-y-6"], [1, "flex", "flex-col", "sm:flex-row", "justify-between", "items-start", "sm:items-center", "gap-4"], [1, "text-2xl", "font-bold", "text-foreground"], [1, "text-sm", "text-muted-foreground", "mt-1"], [1, "px-3", "py-1", "text-sm", "font-medium", "rounded", "border", 3, "ngClass"], [1, "grid", "grid-cols-1", "lg:grid-cols-3", "gap-6"], [1, "lg:col-span-2", "space-y-6"], [1, "card", "overflow-hidden"], [1, "p-4", "border-b", "border-border", "font-bold"], [1, "divide-y", "divide-border"], ["class", "p-4 flex gap-4", 4, "ngFor", "ngForOf"], [1, "card", "p-5"], [1, "font-bold", "border-b", "border-border", "pb-3", "mb-3"], [1, "text-sm", "space-y-2", "text-muted-foreground"], [1, "text-foreground", "font-medium"], [1, "space-y-3", "text-sm"], [1, "flex", "justify-between", "text-muted-foreground"], ["class", "flex justify-between text-success", 4, "ngIf"], [1, "flex", "justify-between", "font-bold", "text-base", "text-foreground", "pt-3", "border-t", "border-border"], [1, "p-4", "flex", "gap-4"], [1, "w-16", "h-16", "rounded", "bg-muted", "flex-shrink-0", "overflow-hidden", "border", "border-border"], [1, "w-full", "h-full", "object-cover", 3, "src"], [1, "flex-1", "min-w-0"], [1, "font-medium", "text-foreground", "truncate"], [1, "font-bold", "text-foreground", "self-center"], [1, "flex", "justify-between", "text-success"]], template: function (c, m) { c & 1 && (n(0, "div", 0), x(1, M, 3, 0, "div", 1)(2, N, 3, 0, "div", 2)(3, k, 62, 26, "div", 3), t()), c & 2 && (r(), p("ngIf", m.isLoading), r(), p("ngIf", !m.isLoading && !m.order), r(), p("ngIf", !m.isLoading && m.order)) }, dependencies: [O, C, A, _, B, F, w, L], encapsulation: 2 }); let d = u; return d })(); export { Q as OrderDetailPage };