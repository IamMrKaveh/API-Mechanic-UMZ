import{a as Ae,b as Ce}from"./chunk-N77NGNXI.js";import{a as oe}from"./chunk-3IJ5BHYX.js";import{a as se}from"./chunk-VWB6FTBM.js";import{a as xe}from"./chunk-6PBMBKED.js";import{C as ye,a as ae,b as de,c as p,d as ue,e as le,f as P,g as m,k as pe,l as ce,m as me,p as he,q as fe,r as ge,s as ve}from"./chunk-34BYHSYA.js";import{a as O,b as ne}from"./chunk-4HBBO3GX.js";import{a as re}from"./chunk-GRXHOR55.js";import{a as be}from"./chunk-V7GIK2BW.js";import{a as _}from"./chunk-5KULSLMJ.js";import{F as ie,b as Q,c as W,d as X,h as Y,i as Z,j as T,p as ee,y as te}from"./chunk-XC2V2DTE.js";import{Bb as r,Cb as A,Da as o,Db as y,F as D,Fb as H,L as q,M as x,N as B,Oa as h,Ob as C,Pb as S,Rb as z,S as G,Ta as U,W as K,Ya as f,Zb as J,f as $,hb as u,ib as e,j as N,jb as t,kb as g,tb as F,ua as R,ub as I,yb as L,z as j}from"./chunk-YUH66BVO.js";import{a as V,c as M}from"./chunk-4CLCTAJ7.js";var Se=(()=>{let a=class a{constructor(i){this.http=i,this.apiUrl=`${_.API_URL}ShippingMethods`}getActiveShippingMethods(){return this.http.get(this.apiUrl)}};a.\u0275fac=function(l){return new(l||a)(K(ee))},a.\u0275prov=G({token:a,factory:a.\u0275fac,providedIn:"root"});let s=a;return s})();function Ee(s,a){if(s&1&&(e(0,"label",43),g(1,"input",44),e(2,"div",45)(3,"p",46),r(4),t(),e(5,"p",47),r(6),t(),e(7,"div",48)(8,"span",49)(9,"span",50),r(10,"person"),t(),r(11),t(),e(12,"span",49)(13,"span",50),r(14,"phone"),t(),r(15),t()()()()),s&2){let d=a.$implicit;o(),u("value",d.id),o(3),A(d.title),o(2),H("",d.province,", ",d.city,", ",d.address),o(5),y(" ",d.receiverName),o(4),y(" ",d.phoneNumber)}}function ke(s,a){if(s&1&&(e(0,"div",16),f(1,Ee,16,7,"label",42),t()),s&2){let d=I(2);o(),u("ngForOf",d.userAddresses)}}function Te(s,a){s&1&&(e(0,"div",51)(1,"p",52),r(2,"\u0622\u062F\u0631\u0633\u06CC \u06CC\u0627\u0641\u062A \u0646\u0634\u062F. \u0644\u0637\u0641\u0627\u064B \u0622\u062F\u0631\u0633 \u062C\u062F\u06CC\u062F \u062B\u0628\u062A \u06A9\u0646\u06CC\u062F."),t()())}function Ne(s,a){if(s&1&&(e(0,"div",40),f(1,ke,2,1,"div",41)(2,Te,3,0,"ng-template",null,0,z),t()),s&2){let d=L(3),i=I();u("formGroup",i.orderForm),o(),u("ngIf",i.userAddresses.length>0)("ngIfElse",d)}}function De(s,a){if(s&1&&(e(0,"option",74),r(1),t()),s&2){let d=a.$implicit;u("value",d.name),o(),A(d.name)}}function Oe(s,a){if(s&1&&(e(0,"option",74),r(1),t()),s&2){let d=a.$implicit;u("value",d.name),o(),A(d.name)}}function Pe(s,a){if(s&1&&(e(0,"div",53)(1,"div",54)(2,"div",55),g(3,"input",56),e(4,"label",57),r(5,"\u0646\u0627\u0645 \u06AF\u06CC\u0631\u0646\u062F\u0647"),t()(),e(6,"div",55),g(7,"input",58),e(8,"label",59),r(9,"\u0634\u0645\u0627\u0631\u0647 \u062A\u0645\u0627\u0633"),t()(),e(10,"div",55)(11,"select",60)(12,"option",61),r(13,"\u0627\u0633\u062A\u0627\u0646 \u0631\u0627 \u0627\u0646\u062A\u062E\u0627\u0628 \u06A9\u0646\u06CC\u062F"),t(),f(14,De,2,2,"option",62),t(),e(15,"label",63),r(16,"\u0627\u0633\u062A\u0627\u0646"),t()(),e(17,"div",55)(18,"select",64)(19,"option",61),r(20,"\u0634\u0647\u0631 \u0631\u0627 \u0627\u0646\u062A\u062E\u0627\u0628 \u06A9\u0646\u06CC\u062F"),t(),f(21,Oe,2,2,"option",62),t(),e(22,"label",65),r(23,"\u0634\u0647\u0631"),t()()(),e(24,"div",55),g(25,"textarea",66),e(26,"label",67),r(27,"\u0622\u062F\u0631\u0633 \u06A9\u0627\u0645\u0644 \u067E\u0633\u062A\u06CC"),t()(),e(28,"div",68),g(29,"input",69),e(30,"label",70),r(31,"\u06A9\u062F \u067E\u0633\u062A\u06CC"),t()(),e(32,"div",71),g(33,"input",72),e(34,"label",73),r(35,"\u0630\u062E\u06CC\u0631\u0647 \u0627\u06CC\u0646 \u0622\u062F\u0631\u0633 \u0628\u0631\u0627\u06CC \u0633\u0641\u0627\u0631\u0634\u200C\u0647\u0627\u06CC \u0628\u0639\u062F\u06CC"),t()()()),s&2){let d=I();u("formGroup",d.newAddressForm),o(14),u("ngForOf",d.states),o(7),u("ngForOf",d.cities)}}function Ve(s,a){if(s&1&&(e(0,"label",75),g(1,"input",76),e(2,"div",77)(3,"div",78)(4,"p",79),r(5),t(),e(6,"p",80),r(7),C(8,"number"),t()(),e(9,"p",81),r(10),t()()()),s&2){let d=a.$implicit;o(),u("value",d.id),o(4),A(d.name),o(2),y("",S(8,4,d.cost)," \u062A\u0648\u0645\u0627\u0646"),o(3),A(d.description)}}function Me(s,a){if(s&1&&(e(0,"div",82)(1,"span"),r(2,"\u062A\u062E\u0641\u06CC\u0641"),t(),e(3,"span"),r(4),C(5,"number"),t()()),s&2){let d=I();o(4),y("- ",S(5,1,d.discountAmount)," \u062A\u0648\u0645\u0627\u0646")}}function $e(s,a){s&1&&(e(0,"span",83),r(1,"sync"),t())}function je(s,a){s&1&&(e(0,"span"),r(1,"\u062B\u0628\u062A"),t())}function qe(s,a){s&1&&(e(0,"span",84),r(1,"sync"),t())}var we=(()=>{let a=class a{constructor(i,l,n,b,w,E,c,v,k,Fe){this.cartService=i,this.orderService=l,this.authService=n,this.profileService=b,this.locationService=w,this.shippingService=E,this.router=c,this.notificationService=v,this.cdr=k,this.platformId=Fe,this.destroy$=new $,this.discountCodeControl=new m(""),this.cart=null,this.isSubmitting=!1,this.isApplyingDiscount=!1,this.userProfile=null,this.userAddresses=[],this.deliveryType="savedAddress",this.states=[],this.cities=[],this.shippingMethods=[],this.selectedShippingCost=0,this.discountAmount=0,this.appliedDiscount=null,this.idempotencyKey="",this.orderForm=new P({userAddressId:new m(null,p.required),shippingMethodId:new m(null,p.required)}),this.newAddressForm=new P({title:new m("\u0622\u062F\u0631\u0633 \u062C\u062F\u06CC\u062F",p.required),receiverName:new m("",p.required),phoneNumber:new m("",[p.required,p.pattern(/^09\d{9}$/)]),province:new m("",p.required),city:new m({value:"",disabled:!0},p.required),address:new m("",p.required),postalCode:new m("",[p.required,p.pattern(/^\d{10}$/)]),saveNewAddress:new m(!0)})}ngOnInit(){this.initIdempotencyKey(),this.loadInitialData(),this.cartService.getMyCart().pipe(x(this.destroy$)).subscribe(),this.cartService.cart$.pipe(x(this.destroy$)).subscribe(i=>{this.cart=i,(!i||i.totalItems===0)&&this.router.navigate(["/cart"]),this.updateTotals(),this.cdr.markForCheck()}),this.orderForm.get("shippingMethodId")?.valueChanges.pipe(x(this.destroy$)).subscribe(i=>{let l=this.shippingMethods.find(n=>n.id===Number(i));this.selectedShippingCost=l?.cost??0,this.updateTotals()}),this.newAddressForm.get("province")?.valueChanges.pipe(x(this.destroy$),q(i=>{let l=this.states.find(n=>n.name===i);return this.newAddressForm.get("city")?.reset(""),this.cities=[],l?(this.newAddressForm.get("city")?.enable(),this.locationService.getCitiesByState(l.id)):(this.newAddressForm.get("city")?.disable(),N([]))})).subscribe(i=>{this.cities=i,this.cdr.markForCheck()})}initIdempotencyKey(){if(T(this.platformId)){let i=sessionStorage.getItem("idempotencyKey");i?this.idempotencyKey=i:(this.idempotencyKey=O(),sessionStorage.setItem("idempotencyKey",this.idempotencyKey))}else this.idempotencyKey=O()}loadInitialData(){this.profileService.getProfile().pipe(x(this.destroy$)).subscribe(i=>{if(this.userProfile=i,this.userAddresses=i?.userAddresses||[],this.userAddresses.length>0){let l=this.userAddresses.find(n=>n.isDefault)||this.userAddresses[0];this.orderForm.get("userAddressId")?.setValue(l.id),this.deliveryType="savedAddress"}else this.deliveryType="newAddress";this.toggleAddressValidators()}),this.shippingService.getActiveShippingMethods().pipe(x(this.destroy$)).subscribe({next:i=>{this.shippingMethods=i,i.length>0&&this.orderForm.get("shippingMethodId")?.setValue(i[0].id)},error:()=>{this.notificationService.show("\u062E\u0637\u0627 \u062F\u0631 \u0628\u0627\u0631\u06AF\u0630\u0627\u0631\u06CC \u0631\u0648\u0634\u200C\u0647\u0627\u06CC \u0627\u0631\u0633\u0627\u0644","error")}}),this.locationService.getStates().subscribe(i=>{this.states=i})}toggleDeliveryType(i){this.deliveryType=i,this.toggleAddressValidators()}toggleAddressValidators(){this.deliveryType==="savedAddress"?(this.orderForm.get("userAddressId")?.setValidators([p.required]),Object.keys(this.newAddressForm.controls).forEach(i=>{this.newAddressForm.get(i)?.clearValidators(),this.newAddressForm.get(i)?.updateValueAndValidity()})):(this.orderForm.get("userAddressId")?.clearValidators(),this.newAddressForm.get("title")?.setValidators([p.required]),this.newAddressForm.get("receiverName")?.setValidators([p.required]),this.newAddressForm.get("phoneNumber")?.setValidators([p.required,p.pattern(/^09\d{9}$/)]),this.newAddressForm.get("province")?.setValidators([p.required]),this.newAddressForm.get("city")?.setValidators([p.required]),this.newAddressForm.get("address")?.setValidators([p.required]),this.newAddressForm.get("postalCode")?.setValidators([p.required,p.pattern(/^\d{10}$/)])),this.orderForm.get("userAddressId")?.updateValueAndValidity(),Object.keys(this.newAddressForm.controls).forEach(i=>{this.newAddressForm.get(i)?.updateValueAndValidity()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}updateTotals(){this.cdr.markForCheck()}get grandTotal(){let l=(this.cart?.totalPrice??0)+this.selectedShippingCost-this.discountAmount;return l>0?l:0}get totalItemsCount(){return this.cart?.totalItems??0}get totalItemsPrice(){return this.cart?.totalPrice??0}applyDiscount(){let i=this.discountCodeControl.value;if(!i||!this.cart){this.notificationService.show("\u0644\u0637\u0641\u0627 \u06A9\u062F \u062A\u062E\u0641\u06CC\u0641 \u0631\u0627 \u0648\u0627\u0631\u062F \u06A9\u0646\u06CC\u062F","info");return}this.isApplyingDiscount=!0,this.orderService.validateDiscount(i,this.cart.totalPrice).pipe(D(()=>{this.isApplyingDiscount=!1,this.cdr.markForCheck()})).subscribe({next:l=>{this.appliedDiscount=l;let n=this.cart.totalPrice*this.appliedDiscount.percentage/100;this.appliedDiscount.maxDiscountAmount&&n>this.appliedDiscount.maxDiscountAmount&&(n=this.appliedDiscount.maxDiscountAmount),this.discountAmount=n,this.notificationService.show(`\u062A\u062E\u0641\u06CC\u0641 ${n.toLocaleString()} \u062A\u0648\u0645\u0627\u0646\u06CC \u0627\u0639\u0645\u0627\u0644 \u0634\u062F`,"success"),this.updateTotals()},error:l=>{this.discountAmount=0,this.appliedDiscount=null,this.discountCodeControl.setValue(""),this.notificationService.show(l.error?.message||"\u06A9\u062F \u062A\u062E\u0641\u06CC\u0641 \u0646\u0627\u0645\u0639\u062A\u0628\u0631 \u0627\u0633\u062A","error"),this.updateTotals()}})}proceedToCheckout(){let i=this.deliveryType==="savedAddress"&&this.orderForm.get("userAddressId")?.valid,l=this.deliveryType==="newAddress"&&this.newAddressForm.valid,n=this.orderForm.get("shippingMethodId")?.value;if(!(i||l)||!n){this.notificationService.show("\u0644\u0637\u0641\u0627\u064B \u062A\u0645\u0627\u0645 \u0627\u0637\u0644\u0627\u0639\u0627\u062A \u0644\u0627\u0632\u0645 \u0631\u0627 \u0648\u0627\u0631\u062F \u06A9\u0646\u06CC\u062F.","error"),this.deliveryType==="savedAddress"&&this.orderForm.markAllAsTouched(),this.deliveryType==="newAddress"&&this.newAddressForm.markAllAsTouched();return}if(!this.cart||this.cart.cartItems.length===0){this.notificationService.show("\u0633\u0628\u062F \u062E\u0631\u06CC\u062F \u0634\u0645\u0627 \u062E\u0627\u0644\u06CC \u0627\u0633\u062A.","error"),this.router.navigate(["/"]);return}this.isSubmitting=!0;let b=this.cart.cartItems.map(c=>({variantId:c.variantId,price:c.sellingPrice,rowVersion:c.rowVersion})),w={shippingMethodId:Number(n),discountCode:this.discountCodeControl.value||void 0,expectedItems:b,callbackUrl:`${_.frontendBaseUrl}${_.paymentUrls.callback}`};if(this.deliveryType==="savedAddress")w.userAddressId=Number(this.orderForm.value.userAddressId);else{let E=this.newAddressForm.getRawValue(),{saveNewAddress:c}=E,v=M(E,["saveNewAddress"]),k=V({},v);v.title&&(k.Title=v.title),w.newAddress=k,w.saveNewAddress=!!c}this.orderService.checkoutFromCart(w,this.idempotencyKey).pipe(D(()=>{}),B(c=>{if(c&&c.paymentUrl){if(this.notificationService.show("\u062F\u0631 \u062D\u0627\u0644 \u0627\u0646\u062A\u0642\u0627\u0644 \u0628\u0647 \u062F\u0631\u06AF\u0627\u0647 \u067E\u0631\u062F\u0627\u062E\u062A...","info"),this.cartService.clearLocalCart(),T(this.platformId)&&sessionStorage.removeItem("idempotencyKey"),T(this.platformId)){let v=c.paymentUrl;setTimeout(()=>{window.location.href=v},500)}}else this.isSubmitting=!1,this.cdr.markForCheck(),this.notificationService.show("\u062E\u0637\u0627 \u062F\u0631 \u062F\u0631\u06CC\u0627\u0641\u062A \u0644\u06CC\u0646\u06A9 \u067E\u0631\u062F\u0627\u062E\u062A","error")}),j(c=>{this.isSubmitting=!1,this.cdr.markForCheck();let v=c?.error?.message||"\u062E\u0637\u0627 \u062F\u0631 \u062B\u0628\u062A \u0633\u0641\u0627\u0631\u0634.";return this.notificationService.show(v,"error"),c.status===409&&this.cartService.getMyCart().subscribe(),N(null)}),x(this.destroy$)).subscribe()}};a.\u0275fac=function(l){return new(l||a)(h(ne),h(be),h(se),h(Ae),h(Ce),h(Se),h(te),h(re),h(J),h(R))},a.\u0275cmp=U({type:a,selectors:[["app-order-page"]],decls:65,vars:28,consts:[["noAddress",""],[1,"container","py-8"],[3,"currentStep"],[1,"text-3xl","font-black","tracking-tight","mb-8","text-foreground"],[1,"grid","grid-cols-1","gap-8","lg:gap-12","lg:grid-cols-3","items-start"],[1,"lg:col-span-2","space-y-8"],[1,"glass-card","p-6","sm:p-8","space-y-6"],[1,"text-xl","font-bold","text-foreground","flex","items-center","gap-2"],[1,"material-icons","text-primary"],[1,"flex","flex-col","sm:flex-row","gap-4","p-1","bg-muted/50","rounded-xl"],[1,"flex-1","py-2.5","px-4","rounded-lg","text-sm","font-bold","transition-all","duration-200",3,"click","ngClass","disabled"],[1,"flex-1","py-2.5","px-4","rounded-lg","text-sm","font-bold","transition-all","duration-200",3,"click","ngClass"],["class","animate-fade-in",3,"formGroup",4,"ngIf"],["class","space-y-6 animate-fade-in",3,"formGroup",4,"ngIf"],[1,"glass-card","p-6","sm:p-8",3,"formGroup"],[1,"text-xl","font-bold","text-foreground","mb-6","flex","items-center","gap-2"],[1,"grid","gap-4"],["class","flex items-center p-4 border rounded-xl cursor-pointer hover:border-primary/50 transition-all duration-200 has-[:checked]:bg-primary/5 has-[:checked]:border-primary has-[:checked]:shadow-sm",4,"ngFor","ngForOf"],[1,"lg:col-span-1"],[1,"glass-card","p-6","sticky","top-28","space-y-6","shadow-xl","shadow-black/5","border-t-4","border-t-primary"],[1,"text-lg","font-bold","text-foreground"],[1,"space-y-4","text-sm","border-b","border-border/50","pb-6"],[1,"flex","justify-between","text-muted-foreground"],[1,"font-medium","text-foreground"],["class","flex justify-between text-success font-bold bg-success/10 p-2 rounded-lg",4,"ngIf"],[1,"space-y-3"],[1,"text-xs","font-bold","text-muted-foreground"],[1,"flex","gap-2"],["type","text","placeholder","\u0645\u062B\u0627\u0644: OFF20",1,"input","flex-1","uppercase","text-center","font-bold","tracking-widest","placeholder:font-normal","placeholder:tracking-normal",3,"formControl"],[1,"btn","btn-outline","min-w-[4rem]",3,"click","disabled"],["class","material-icons animate-spin text-sm",4,"ngIf"],[4,"ngIf"],[1,"pt-2"],[1,"flex","justify-between","items-center","mb-6"],[1,"text-base","font-bold","text-foreground"],[1,"text-2xl","font-black","text-primary"],[1,"text-sm","font-medium","text-muted-foreground"],[1,"btn","btn-primary","btn-lg","w-full","rounded-xl","shadow-lg","shadow-primary/25","hover:shadow-primary/40","hover:-translate-y-1","transition-all",3,"click","disabled"],["class","material-icons animate-spin me-2",4,"ngIf"],[1,"font-bold","text-lg"],[1,"animate-fade-in",3,"formGroup"],["class","grid gap-4",4,"ngIf","ngIfElse"],["class","relative flex items-start p-4 border rounded-xl cursor-pointer hover:border-primary/50 transition-all duration-200 has-[:checked]:bg-primary/5 has-[:checked]:border-primary has-[:checked]:shadow-sm",4,"ngFor","ngForOf"],[1,"relative","flex","items-start","p-4","border","rounded-xl","cursor-pointer","hover:border-primary/50","transition-all","duration-200","has-[:checked]:bg-primary/5","has-[:checked]:border-primary","has-[:checked]:shadow-sm"],["type","radio","name","userAddressId","formControlName","userAddressId",1,"mt-1","text-primary","focus:ring-primary","h-5","w-5","border-gray-300",3,"value"],[1,"flex-1","mr-4","space-y-1"],[1,"font-bold","text-foreground","text-base"],[1,"text-sm","text-muted-foreground","leading-relaxed"],[1,"flex","gap-4","text-xs","text-muted-foreground","mt-2"],[1,"flex","items-center","gap-1"],[1,"material-icons","text-[14px]"],[1,"text-center","p-8","border-2","border-dashed","border-border","rounded-xl","bg-muted/20"],[1,"text-muted-foreground"],[1,"space-y-6","animate-fade-in",3,"formGroup"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-6"],[1,"relative"],["type","text","id","receiverName","formControlName","receiverName","placeholder"," ",1,"floating-input","peer"],["for","receiverName",1,"floating-label"],["type","tel","id","newPhoneNumber","formControlName","phoneNumber","placeholder"," ",1,"floating-input","peer","ltr-input"],["for","newPhoneNumber",1,"floating-label"],["id","province","formControlName","province",1,"floating-input","pt-2","pb-2","h-[3.25rem]"],["value","","disabled",""],[3,"value",4,"ngFor","ngForOf"],["for","province",1,"absolute","-top-2","right-2","bg-background","px-1","text-xs","text-primary"],["id","city","formControlName","city",1,"floating-input","pt-2","pb-2","h-[3.25rem]"],["for","city",1,"absolute","-top-2","right-2","bg-background","px-1","text-xs","text-primary"],["id","fullAddress","formControlName","address","placeholder"," ",1,"floating-input","peer","min-h-[100px]"],["for","fullAddress",1,"floating-label"],[1,"relative","sm:w-1/2"],["type","text","id","postalCode","formControlName","postalCode","placeholder"," ",1,"floating-input","peer","ltr-input"],["for","postalCode",1,"floating-label"],[1,"flex","items-center","gap-2"],["type","checkbox","id","saveNewAddress","formControlName","saveNewAddress",1,"h-5","w-5","rounded","border-gray-300","text-primary","focus:ring-primary","transition-all"],["for","saveNewAddress",1,"text-sm","font-medium","text-foreground","cursor-pointer"],[3,"value"],[1,"flex","items-center","p-4","border","rounded-xl","cursor-pointer","hover:border-primary/50","transition-all","duration-200","has-[:checked]:bg-primary/5","has-[:checked]:border-primary","has-[:checked]:shadow-sm"],["type","radio","name","shippingMethodId","formControlName","shippingMethodId",1,"h-5","w-5","border-gray-300","text-primary","focus:ring-primary",3,"value"],[1,"flex-1","mr-4"],[1,"flex","justify-between","items-center","mb-1"],[1,"font-bold","text-foreground"],[1,"font-bold","text-primary"],[1,"text-sm","text-muted-foreground"],[1,"flex","justify-between","text-success","font-bold","bg-success/10","p-2","rounded-lg"],[1,"material-icons","animate-spin","text-sm"],[1,"material-icons","animate-spin","me-2"]],template:function(l,n){l&1&&(e(0,"div",1),g(1,"app-roadmap",2),e(2,"h1",3),r(3,"\u062A\u06A9\u0645\u06CC\u0644 \u0627\u0637\u0644\u0627\u0639\u0627\u062A \u0648 \u067E\u0631\u062F\u0627\u062E\u062A"),t(),e(4,"div",4)(5,"div",5)(6,"div",6)(7,"h2",7)(8,"span",8),r(9,"location_on"),t(),r(10," \u0622\u062F\u0631\u0633 \u062A\u062D\u0648\u06CC\u0644 \u0633\u0641\u0627\u0631\u0634 "),t(),e(11,"div",9)(12,"button",10),F("click",function(){return n.toggleDeliveryType("savedAddress")}),r(13," \u0622\u062F\u0631\u0633\u200C\u0647\u0627\u06CC \u0630\u062E\u06CC\u0631\u0647 \u0634\u062F\u0647 "),t(),e(14,"button",11),F("click",function(){return n.toggleDeliveryType("newAddress")}),r(15," \u062B\u0628\u062A \u0622\u062F\u0631\u0633 \u062C\u062F\u06CC\u062F "),t()(),f(16,Ne,4,3,"div",12)(17,Pe,36,3,"div",13),t(),e(18,"div",14)(19,"h2",15)(20,"span",8),r(21,"local_shipping"),t(),r(22," \u0631\u0648\u0634 \u0627\u0631\u0633\u0627\u0644 "),t(),e(23,"div",16),f(24,Ve,11,6,"label",17),t()()(),e(25,"div",18)(26,"div",19)(27,"h2",20),r(28,"\u0641\u0627\u06A9\u062A\u0648\u0631 \u0646\u0647\u0627\u06CC\u06CC"),t(),e(29,"div",21)(30,"div",22)(31,"span"),r(32),C(33,"number"),t(),e(34,"span",23),r(35),C(36,"number"),t()(),e(37,"div",22)(38,"span"),r(39,"\u0647\u0632\u06CC\u0646\u0647 \u0627\u0631\u0633\u0627\u0644"),t(),e(40,"span",23),r(41),C(42,"number"),t()(),f(43,Me,6,3,"div",24),t(),e(44,"div",25)(45,"p",26),r(46,"\u06A9\u062F \u062A\u062E\u0641\u06CC\u0641 \u062F\u0627\u0631\u06CC\u062F\u061F"),t(),e(47,"div",27),g(48,"input",28),e(49,"button",29),F("click",function(){return n.applyDiscount()}),f(50,$e,2,0,"span",30)(51,je,2,0,"span",31),t()()(),e(52,"div",32)(53,"div",33)(54,"p",34),r(55,"\u0645\u0628\u0644\u063A \u0642\u0627\u0628\u0644 \u067E\u0631\u062F\u0627\u062E\u062A"),t(),e(56,"p",35),r(57),C(58,"number"),e(59,"span",36),r(60,"\u062A\u0648\u0645\u0627\u0646"),t()()(),e(61,"button",37),F("click",function(){return n.proceedToCheckout()}),f(62,qe,2,0,"span",38),e(63,"span",39),r(64),t()()()()()()()),l&2&&(o(),u("currentStep",2),o(11),u("ngClass",n.deliveryType==="savedAddress"?"bg-background shadow-sm text-primary ring-1 ring-border":"text-muted-foreground hover:text-foreground")("disabled",n.userAddresses.length===0),o(2),u("ngClass",n.deliveryType==="newAddress"?"bg-background shadow-sm text-primary ring-1 ring-border":"text-muted-foreground hover:text-foreground"),o(2),u("ngIf",n.deliveryType==="savedAddress"),o(),u("ngIf",n.deliveryType==="newAddress"),o(),u("formGroup",n.orderForm),o(6),u("ngForOf",n.shippingMethods),o(8),y("\u0645\u062C\u0645\u0648\u0639 \u0642\u06CC\u0645\u062A (",S(33,20,n.totalItemsCount),")"),o(3),y("",S(36,22,n.totalItemsPrice)," \u062A\u0648\u0645\u0627\u0646"),o(6),y("",S(42,24,n.selectedShippingCost)," \u062A\u0648\u0645\u0627\u0646"),o(2),u("ngIf",n.discountAmount>0),o(5),u("formControl",n.discountCodeControl),o(),u("disabled",!n.discountCodeControl.value||n.isApplyingDiscount),o(),u("ngIf",n.isApplyingDiscount),o(),u("ngIf",!n.isApplyingDiscount),o(6),y("",S(58,26,n.grandTotal)," "),o(4),u("disabled",n.isSubmitting),o(),u("ngIf",n.isSubmitting),o(2),A(n.isSubmitting?"\u062F\u0631 \u062D\u0627\u0644 \u0627\u0646\u062A\u0642\u0627\u0644...":"\u067E\u0631\u062F\u0627\u062E\u062A \u0622\u0646\u0644\u0627\u06CC\u0646"))},dependencies:[Z,Q,W,X,ye,ge,ve,de,ae,fe,pe,ue,le,ce,me,he,ie,xe,Y],encapsulation:2});let s=a;return s})();var ct=[{path:"",component:we,canActivate:[oe]}];export{ct as CHECKOUT_ROUTES};
