import{a as s}from"./chunk-WNMS36QR.js";import{o as d}from"./chunk-PMZJQWMM.js";import{T as p,X as o}from"./chunk-OU7FPMWK.js";var l=(()=>{class r{constructor(t){this.http=t,this.mediaUrl=`${s.API_URL}Media`}getMediaForEntity(t,e){return this.http.get(`${this.mediaUrl}/${t}/${e}`)}deleteMedia(t){return this.http.delete(`${this.mediaUrl}/${t}`)}setPrimaryMedia(t,e,a){return this.http.patch(`${this.mediaUrl}/set-primary`,{mediaId:t,entityId:e,entityType:a})}uploadFile(t,e,a,h=!1,n){let i=new FormData;return i.append("files",t),i.append("entityType",e),i.append("entityId",a.toString()),i.append("isPrimary",h.toString()),n&&i.append("altText",n),this.http.post(`${this.mediaUrl}/upload`,i)}getMediaUrl(t){if(!t)return"";if(t.startsWith("http")||t.startsWith("https")||t.startsWith("data:"))return t;let e=s.API_URL.replace("/api/",""),a=t.startsWith("/")?t.substring(1):t;return`${e}/${a}`}static{this.\u0275fac=function(e){return new(e||r)(o(d))}}static{this.\u0275prov=p({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();export{l as a};
