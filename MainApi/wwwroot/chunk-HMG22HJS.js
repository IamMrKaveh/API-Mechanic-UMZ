import{a as P}from"./chunk-KM6DPSOK.js";import{F as C,d as _,h as S,i as k,z as w}from"./chunk-XC2V2DTE.js";import{Bb as u,Da as i,Db as s,Lb as x,Oa as b,Ob as m,Pb as g,Qb as I,Ta as h,Ya as c,hb as l,ib as r,jb as o,kb as y,ub as p,za as v}from"./chunk-YUH66BVO.js";var E=e=>["/products",e];function D(e,a){if(e&1&&(r(0,"div",20),u(1),m(2,"number"),o()),e&2){let t=p(2);i(),s(" ",I(2,1,t.discountPercentage,"1.0-0"),"% ")}}function F(e,a){e&1&&(r(0,"div",21)(1,"span",22),u(2," \u0646\u0627\u0645\u0648\u062C\u0648\u062F "),o()())}function U(e,a){if(e&1&&(r(0,"span",23),u(1),m(2,"number"),o()),e&2){let t=p(2);i(),s(" ",g(2,1,t.product.maxPrice)," ")}}function z(e,a){if(e&1&&(r(0,"div",1)(1,"a",2)(2,"span",3),u(3),o()(),r(4,"div",4),y(5,"div",5)(6,"img",6),r(7,"div",7),c(8,D,3,4,"div",8),o(),c(9,F,3,0,"div",9),o(),r(10,"div",10)(11,"h3",11),u(12),o(),r(13,"div",12)(14,"div",13),c(15,U,3,3,"span",14),r(16,"div",15)(17,"span",16),u(18),m(19,"number"),o(),r(20,"span",17),u(21,"\u062A\u0648\u0645\u0627\u0646"),o()()(),r(22,"button",18)(23,"span",19),u(24,"add"),o()()()()()),e&2){let t=p();i(),l("routerLink",x(14,E,t.product.id))("title",t.product.name),i(2),s("\u0645\u0634\u0627\u0647\u062F\u0647 ",t.product.name),i(3),l("src",t.productIconUrl,v)("alt",t.product.name),i(2),l("ngIf",t.hasDiscount),i(),l("ngIf",!t.isInStock()),i(3),s(" ",t.product.name," "),i(3),l("ngIf",t.hasDiscount),i(3),s(" ",g(19,12,t.product.minPrice)," "),i(4),l("routerLink",x(16,E,t.product.id))("disabled",!t.isInStock())}}var R=(()=>{let a=class a{constructor(d){this.mediaService=d}isInStock(){return this.product?this.product.variants.some(n=>n.isUnlimited)?!0:this.product.totalStock>0:!1}get productIconUrl(){let n=this.product?.images?.find(f=>f.isPrimary)?.url||this.product?.images?.[0]?.url;return n?this.mediaService.getMediaUrl(n):"https://via.placeholder.com/300"}get hasDiscount(){return!this.product||!this.product.variants?!1:this.product.variants.some(d=>d.originalPrice>d.sellingPrice)}get discountPercentage(){return this.hasDiscount?Math.max(...this.product.variants.map(n=>n.discountPercentage)):0}};a.\u0275fac=function(n){return new(n||a)(b(P))},a.\u0275cmp=h({type:a,selectors:[["app-product-card"]],inputs:{product:"product"},decls:1,vars:1,consts:[["class","group relative flex flex-col h-full bg-card rounded-2xl border border-border transition-all duration-300 hover:shadow-xl hover:-translate-y-1 overflow-hidden",4,"ngIf"],[1,"group","relative","flex","flex-col","h-full","bg-card","rounded-2xl","border","border-border","transition-all","duration-300","hover:shadow-xl","hover:-translate-y-1","overflow-hidden"],[1,"absolute","inset-0","z-10",3,"routerLink","title"],[1,"sr-only"],[1,"relative","aspect-square","overflow-hidden","bg-muted/30","p-6"],[1,"absolute","inset-0","bg-gradient-to-t","from-black/5","to-transparent","opacity-0","group-hover:opacity-100","transition-opacity","duration-300"],["loading","lazy","decoding","async","width","300","height","300",1,"h-full","w-full","object-contain","mix-blend-multiply","transition-transform","duration-500","group-hover:scale-110","will-change-transform",3,"src","alt"],[1,"absolute","top-3","left-3","flex","flex-col","gap-2","z-20"],["class","bg-destructive text-destructive-foreground px-2.5 py-1 text-xs font-bold rounded-lg shadow-sm animate-fade-in",4,"ngIf"],["class","absolute inset-0 z-20 flex items-center justify-center bg-background/60 backdrop-blur-[2px]",4,"ngIf"],[1,"flex","flex-1","flex-col","p-5","gap-3","relative","bg-card"],[1,"line-clamp-2","text-sm","font-bold","leading-relaxed","text-foreground","group-hover:text-primary","transition-colors","min-h-[2.5rem]"],[1,"mt-auto","flex","items-end","justify-between","gap-2","pt-2","border-t","border-border/50"],[1,"flex","flex-col"],["class","text-xs text-muted-foreground line-through decoration-destructive/40 mb-0.5",4,"ngIf"],[1,"flex","items-baseline","gap-1"],[1,"text-lg","font-black","text-foreground"],[1,"text-[10px]","font-medium","text-muted-foreground"],["aria-label","\u0627\u0641\u0632\u0648\u062F\u0646 \u0628\u0647 \u0633\u0628\u062F \u062E\u0631\u06CC\u062F",1,"relative","z-20","h-10","w-10","rounded-full","bg-secondary","text-secondary-foreground","hover:bg-primary","hover:text-primary-foreground","hover:shadow-lg","hover:shadow-primary/30","transition-all","duration-300","flex","items-center","justify-center","group/btn","focus-visible:ring-2","focus-visible:ring-offset-2","focus-visible:ring-primary",3,"routerLink","disabled"],[1,"material-icons","text-xl","group-hover/btn:scale-110","transition-transform"],[1,"bg-destructive","text-destructive-foreground","px-2.5","py-1","text-xs","font-bold","rounded-lg","shadow-sm","animate-fade-in"],[1,"absolute","inset-0","z-20","flex","items-center","justify-center","bg-background/60","backdrop-blur-[2px]"],[1,"rounded-full","bg-foreground/80","px-4","py-1.5","text-xs","font-bold","text-background","shadow-lg"],[1,"text-xs","text-muted-foreground","line-through","decoration-destructive/40","mb-0.5"]],template:function(n,f){n&1&&c(0,z,25,18,"div",0),n&2&&l("ngIf",f.product)},dependencies:[k,_,C,w,S],encapsulation:2});let e=a;return e})();export{R as a};
